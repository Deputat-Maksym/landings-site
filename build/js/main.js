!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Glide=e()}(this,function(){"use strict";var n={type:"slider",startAt:0,perView:1,focusAt:0,gap:10,autoplay:!1,hoverpause:!0,keyboard:!0,bound:!1,swipeThreshold:80,dragThreshold:120,perTouch:!1,touchRatio:.5,touchAngle:45,animationDuration:400,rewind:!0,rewindDuration:800,animationTimingFunc:"cubic-bezier(.165, .840, .440, 1)",throttle:10,direction:"ltr",peek:0,breakpoints:{},classes:{direction:{ltr:"glide--ltr",rtl:"glide--rtl"},slider:"glide--slider",carousel:"glide--carousel",swipeable:"glide--swipeable",dragging:"glide--dragging",cloneSlide:"glide__slide--clone",activeNav:"glide__bullet--active",activeSlide:"glide__slide--active",disabledArrow:"glide__arrow--disabled"}};function u(t){console.error("[Glide warn]: "+t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t};function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function y(t){return parseInt(t)}function s(t){return"string"==typeof t}function c(t){var e=void 0===t?"undefined":o(t);return"function"===e||"object"===e&&!!t}function l(t){return"function"==typeof t}function f(t){return void 0===t}function d(t){return t.constructor===Array}function h(t,e,n){Object.defineProperty(t,e,n)}function v(t,e){var n=a({},t,e);return e.hasOwnProperty("classes")&&(n.classes=a({},t.classes,e.classes),e.classes.hasOwnProperty("direction")&&(n.classes.direction=a({},t.classes.direction,e.classes.direction))),e.hasOwnProperty("breakpoints")&&(n.breakpoints=a({},t.breakpoints,e.breakpoints)),n}var m=(t(e,[{key:"on",value:function(t,e){if(d(t))for(var n=0;n<t.length;n++)this.on(t[n],e);this.hop.call(this.events,t)||(this.events[t]=[]);var i=this.events[t].push(e)-1;return{remove:function(){delete this.events[t][i]}}}},{key:"emit",value:function(t,e){if(d(t))for(var n=0;n<t.length;n++)this.emit(t[n],e);this.hop.call(this.events,t)&&this.events[t].forEach(function(t){t(e||{})})}}]),e);function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.events=t,this.hop=t.hasOwnProperty}var p=(t(g,[{key:"mount",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};return this._e.emit("mount.before"),c(e)?this._c=function(t,e,n){var i={};for(var o in e)l(e[o])?i[o]=e[o](t,i,n):u("Extension must be a function");for(var r in i)l(i[r].mount)&&i[r].mount();return i}(this,e,this._e):u("You need to provide a object on `mount()`"),this._e.emit("mount.after"),this}},{key:"mutate",value:function(t){var e=0<arguments.length&&void 0!==t?t:[];return d(e)?this._t=e:u("You need to provide a array on `mutate()`"),this}},{key:"update",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};return this.settings=v(this.settings,e),e.hasOwnProperty("startAt")&&(this.index=e.startAt),this._e.emit("update"),this}},{key:"go",value:function(t){return this._c.Run.make(t),this}},{key:"move",value:function(t){return this._c.Transition.disable(),this._c.Move.make(t),this}},{key:"destroy",value:function(){return this._e.emit("destroy"),this}},{key:"play",value:function(t){var e=0<arguments.length&&void 0!==t&&t;return e&&(this.settings.autoplay=e),this._e.emit("play"),this}},{key:"pause",value:function(){return this._e.emit("pause"),this}},{key:"disable",value:function(){return this.disabled=!0,this}},{key:"enable",value:function(){return this.disabled=!1,this}},{key:"on",value:function(t,e){return this._e.on(t,e),this}},{key:"isType",value:function(t){return this.settings.type===t}},{key:"settings",get:function(){return this._o},set:function(t){c(t)?this._o=t:u("Options must be an `object` instance.")}},{key:"smm.html",get:function(){return this._i},set:function(t){this._i=y(t)}},{key:"type",get:function(){return this.settings.type}},{key:"disabled",get:function(){return this._d},set:function(t){this._d=!!t}}]),g);function g(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};i(this,g),this._c={},this._t=[],this._e=new m,this.disabled=!1,this.selector=t,this.settings=v(n,e),this.index=this.settings.startAt}function b(){return(new Date).getTime()}function w(n,i,o){var r=void 0,s=void 0,u=void 0,a=void 0,c=0;o=o||{};function l(){c=!1===o.leading?0:b(),r=null,a=n.apply(s,u),r||(s=u=null)}function t(){var t=b();c||!1!==o.leading||(c=t);var e=i-(t-c);return s=this,u=arguments,e<=0||i<e?(r&&(clearTimeout(r),r=null),c=t,a=n.apply(s,u),r||(s=u=null)):r||!1===o.trailing||(r=setTimeout(l,e)),a}return t.cancel=function(){clearTimeout(r),c=0,r=s=u=null},t}var k={ltr:["marginLeft","marginRight"],rtl:["marginRight","marginLeft"]};function _(t){if(t&&t.parentNode){for(var e=t.parentNode.firstChild,n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}return[]}function S(t){return!!(t&&t instanceof window.HTMLElement)}var H='[data-glide-el="track"]';var T=(t(O,[{key:"on",value:function(t,e,n,i){var o=3<arguments.length&&void 0!==i&&i;s(t)&&(t=[t]);for(var r=0;r<t.length;r++)this.listeners[t[r]]=n,e.addEventListener(t[r],this.listeners[t[r]],o)}},{key:"off",value:function(t,e,n){var i=2<arguments.length&&void 0!==n&&n;s(t)&&(t=[t]);for(var o=0;o<t.length;o++)e.removeEventListener(t[o],this.listeners[t[o]],i)}},{key:"destroy",value:function(){delete this.listeners}}]),O);function O(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i(this,O),this.listeners=t}var x=["ltr","rtl"],A={">":"<","<":">","=":"="};function L(t,e){return{modify:function(t){return e.Direction.is("rtl")?-t:t}}}function M(i,o,r){var s=[function(e,n){return{modify:function(t){return t+n.Gaps.value*e.smm}}},function(t,e){return{modify:function(t){return t+e.Clones.grow/2}}},function(n,i){return{modify:function(t){if(0<=n.settings.focusAt){var e=i.Peek.value;return c(e)?t-e.before:t-e}return t}}},function(r,s){return{modify:function(t){var e=s.Gaps.value,n=s.Sizes.width,i=r.settings.focusAt,o=s.Sizes.slideWidth;return"center"===i?t-(n/2-o/2):t-o*i-e*i}}}].concat(i._t,[L]);return{mutate:function(t){for(var e=0;e<s.length;e++){var n=s[e];l(n)&&l(n().modify)?t=n(i,o,r).modify(t):u("Transformer should be a function that returns an object with `modify()` method")}return t}}}var C=!1;try{var P=Object.defineProperty({},"passive",{get:function(){C=!0}});window.addEventListener("testPassive",null,P),window.removeEventListener("testPassive",null,P)}catch(t){}var j=C,E=["touchstart","mousedown"],z=["touchmove","mousemove"],D=["touchend","touchcancel","mouseup","mouseleave"],R=["mousedown","mousemove","mouseup","mouseleave"];function W(t){return c(t)?function(n){return Object.keys(n).sort().reduce(function(t,e){return t[e]=n[e],t[e],t},{})}(t):(u("Breakpoints option must be an object"),{})}var q={Html:function(e,t){var n={mount:function(){this.root=e.selector,this.track=this.root.querySelector(H),this.slides=Array.prototype.slice.call(this.wrapper.children).filter(function(t){return!t.classList.contains(e.settings.classes.cloneSlide)})}};return h(n,"root",{get:function(){return n._r},set:function(t){s(t)&&(t=document.querySelector(t)),S(t)?n._r=t:u("Root element must be a existing Html node")}}),h(n,"track",{get:function(){return n._t},set:function(t){S(t)?n._t=t:u("Could not find track element. Please use "+H+" attribute.")}}),h(n,"wrapper",{get:function(){return n.track.children[0]}}),n},Translate:function(o,r,s){var u={set:function(t){var e=M(o,r).mutate(t);r.Html.wrapper.style.transform="translate3d("+-1*e+"px, 0px, 0px)"},remove:function(){r.Html.wrapper.style.transform=""}};return s.on("move",function(t){var e=r.Gaps.value,n=r.Sizes.length,i=r.Sizes.slideWidth;return o.isType("carousel")&&r.Run.isOffset("<")?(r.Transition.after(function(){s.emit("translate.jump"),u.set(i*(n-1))}),u.set(-i-e*n)):o.isType("carousel")&&r.Run.isOffset(">")?(r.Transition.after(function(){s.emit("translate.jump"),u.set(0)}),u.set(i*n+e*n)):u.set(t.movement)}),s.on("destroy",function(){u.remove()}),u},Transition:function(n,i,t){var o=!1,e={compose:function(t){var e=n.settings;return o?t+" 0ms "+e.animationTimingFunc:t+" "+this.duration+"ms "+e.animationTimingFunc},set:function(t){var e=0<arguments.length&&void 0!==t?t:"transform";i.Html.wrapper.style.transition=this.compose(e)},remove:function(){i.Html.wrapper.style.transition=""},after:function(t){setTimeout(function(){t()},this.duration)},enable:function(){o=!1,this.set()},disable:function(){o=!0,this.set()}};return h(e,"duration",{get:function(){var t=n.settings;return n.isType("slider")&&i.Run.offset?t.rewindDuration:t.animationDuration}}),t.on("move",function(){e.set()}),t.on(["build.before","resize","translate.jump"],function(){e.disable()}),t.on("run",function(){e.enable()}),t.on("destroy",function(){e.remove()}),e},Direction:function(t,e,n){var i={mount:function(){this.value=t.settings.direction},resolve:function(t){var e=t.slice(0,1);return this.is("rtl")?t.split(e).join(A[e]):t},is:function(t){return this.value===t},addClass:function(){e.Html.root.classList.add(t.settings.classes.direction[this.value])},removeClass:function(){e.Html.root.classList.remove(t.settings.classes.direction[this.value])}};return h(i,"value",{get:function(){return i._v},set:function(t){-1<x.indexOf(t)?i._v=t:u("Direction value must be `ltr` or `rtl`")}}),n.on(["destroy","update"],function(){i.removeClass()}),n.on("update",function(){i.mount()}),n.on(["build.before","update"],function(){i.addClass()}),i},Peek:function(n,t,e){var i={mount:function(){this.value=n.settings.peek}};return h(i,"value",{get:function(){return i._v},set:function(t){c(t)?(t.before=y(t.before),t.after=y(t.after)):t=y(t),i._v=t}}),h(i,"reductor",{get:function(){var t=i.value,e=n.settings.perView;return c(t)?t.before/e+t.after/e:2*t/e}}),e.on(["resize","update"],function(){i.mount()}),i},Sizes:function(t,i,e){var n={setupSlides:function(){for(var t=this.slideWidth+"px",e=i.Html.slides,n=0;n<e.length;n++)e[n].style.width=t},setupWrapper:function(t){i.Html.wrapper.style.width=this.wrapperSize+"px"},remove:function(){for(var t=i.Html.slides,e=0;e<t.length;e++)t[e].style.width="";i.Html.wrapper.style.width=""}};return h(n,"length",{get:function(){return i.Html.slides.length}}),h(n,"width",{get:function(){return i.Html.root.offsetWidth}}),h(n,"wrapperSize",{get:function(){return n.slideWidth*n.length+i.Gaps.grow+i.Clones.grow}}),h(n,"slideWidth",{get:function(){return n.width/t.settings.perView-i.Peek.reductor-i.Gaps.reductor}}),e.on(["build.before","resize","update"],function(){n.setupSlides(),n.setupWrapper()}),e.on("destroy",function(){n.remove()}),n},Gaps:function(e,r,t){var n={apply:function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e].style,o=r.Direction.value;i[k[o][0]]=0!==e?this.value/2+"px":"",e!==t.length-1?i[k[o][1]]=this.value/2+"px":i[k[o][1]]=""}},remove:function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e].style;i.marginLeft="",i.marginRight=""}}};return h(n,"value",{get:function(){return y(e.settings.gap)}}),h(n,"grow",{get:function(){return n.value*(r.Sizes.length-1)}}),h(n,"reductor",{get:function(){var t=e.settings.perView;return n.value*(t-1)/t}}),t.on(["build.after","update"],w(function(){n.apply(r.Html.wrapper.children)},30)),t.on("destroy",function(){n.remove(r.Html.wrapper.children)}),n},Move:function(t,i,o){var e={mount:function(){this._o=0},make:function(t){var e=this,n=0<arguments.length&&void 0!==t?t:0;this.offset=n,o.emit("move",{movement:this.value}),i.Transition.after(function(){o.emit("move.after",{movement:e.value})})}};return h(e,"offset",{get:function(){return e._o},set:function(t){e._o=f(t)?0:y(t)}}),h(e,"translate",{get:function(){return i.Sizes.slideWidth*t.smm}}),h(e,"value",{get:function(){var t=this.offset,e=this.translate;return i.Direction.is("rtl")?e+t:e-t}}),o.on(["build.before","run"],function(){e.make()}),e},Clones:function(v,m,t){var e={mount:function(){this.items=[],v.isType("carousel")&&(this.items=this.collect())},collect:function(t){for(var e=0<arguments.length&&void 0!==t?t:[],n=m.Html.slides,i=v.settings,o=i.perView,r=i.classes,s=o+ +!!v.settings.peek,u=n.slice(0,s),a=n.slice(-s),c=0;c<Math.max(1,Math.floor(o/n.length));c++){for(var l=0;l<u.length;l++){var f=u[l].cloneNode(!0);f.classList.add(r.cloneSlide),e.push(f)}for(var d=0;d<a.length;d++){var h=a[d].cloneNode(!0);h.classList.add(r.cloneSlide),e.unshift(h)}}return e},append:function(){for(var t=this.items,e=m.Html,n=e.wrapper,i=e.slides,o=Math.floor(t.length/2),r=t.slice(0,o).reverse(),s=t.slice(o,t.length),u=m.Sizes.slideWidth+"px",a=0;a<s.length;a++)n.appendChild(s[a]);for(var c=0;c<r.length;c++)n.insertBefore(r[c],i[0]);for(var l=0;l<t.length;l++)t[l].style.width=u},remove:function(){for(var t=this.items,e=0;e<t.length;e++)m.Html.wrapper.removeChild(t[e])}};return h(e,"grow",{get:function(){return(m.Sizes.slideWidth+m.Gaps.value)*e.items.length}}),t.on("update",function(){e.remove(),e.mount(),e.append()}),t.on("build.before",function(){v.isType("carousel")&&e.append()}),t.on("destroy",function(){e.remove()}),e},Resize:function(t,e,n){var i=new T,o={mount:function(){this.bind()},bind:function(){i.on("resize",window,w(function(){n.emit("resize")},t.settings.throttle))},unbind:function(){i.off("resize",window)}};return n.on("destroy",function(){o.unbind(),i.destroy()}),o},Build:function(n,i,t){var e={mount:function(){t.emit("build.before"),this.typeClass(),this.activeClass(),t.emit("build.after")},typeClass:function(){i.Html.root.classList.add(n.settings.classes[n.settings.type])},activeClass:function(){var e=n.settings.classes,t=i.Html.slides[n.smm];t&&(t.classList.add(e.activeSlide),_(t).forEach(function(t){t.classList.remove(e.activeSlide)}))},removeClasses:function(){var e=n.settings.classes;i.Html.root.classList.remove(e[n.settings.type]),i.Html.slides.forEach(function(t){t.classList.remove(e.activeSlide)})}};return t.on(["destroy","update"],function(){e.removeClasses()}),t.on(["resize","update"],function(){e.mount()}),t.on("move",function(){e.activeClass()}),e},Run:function(r,n,i){var t={mount:function(){this._o=!1},make:function(t){var e=this;r.disabled||(r.disable(),this.move=t,i.emit("run.before",this.move),this.calculate(),i.emit("run",this.move),n.Transition.after(function(){e.isStart()&&i.emit("run.start",e.move),e.isEnd()&&i.emit("run.end",e.move),(e.isOffset("<")||e.isOffset(">"))&&(e._o=!1,i.emit("run.offset",e.move)),i.emit("run.after",e.move),r.enable()}))},calculate:function(){var t=this.move,e=this.length,n=t.steps,i=t.direction,o=function(t){return"number"==typeof t}(y(n))&&0!==y(n);switch(i){case">":">"===n?r.index=e:this.isEnd()?r.isType("slider")&&!r.settings.rewind||(this._o=!0,r.index=0):o?r.index+=Math.min(e-r.index,-y(n)):r.index++;break;case"<":"<"===n?r.index=0:this.isStart()?r.isType("slider")&&!r.settings.rewind||(this._o=!0,r.index=e):o?r.index-=Math.min(r.index,y(n)):r.index--;break;case"=":r.index=n;break;default:u("Invalid direction pattern ["+i+n+"] has been used")}},isStart:function(){return 0===r.index},isEnd:function(){return r.index===this.length},isOffset:function(t){return this._o&&this.move.direction===t}};return h(t,"move",{get:function(){return this._m},set:function(t){var e=t.substr(1);this._m={direction:t.substr(0,1),steps:e?y(e)?y(e):e:0}}}),h(t,"length",{get:function(){var t=r.settings,e=n.Html.slides.length;return r.isType("slider")&&"center"!==t.focusAt&&t.bound?e-1-(y(t.perView)-1)+y(t.focusAt):e-1}}),h(t,"offset",{get:function(){return this._o}}),t},Swipe:function(d,h,v){var n=new T,m=0,p=0,g=0,i=!1,o=!!j&&{passive:!0},t={mount:function(){this.bindSwipeStart()},start:function(t){if(!i&&!d.disabled){this.disable();var e=this.touches(t);m=null,p=y(e.pageX),g=y(e.pageY),this.bindSwipeMove(),this.bindSwipeEnd(),v.emit("swipe.start")}},move:function(t){if(!d.disabled){var e=d.settings,n=e.touchAngle,i=e.touchRatio,o=e.classes,r=this.touches(t),s=y(r.pageX)-p,u=y(r.pageY)-g,a=Math.abs(s<<2),c=Math.abs(u<<2),l=Math.sqrt(a+c),f=Math.sqrt(c);if(!(180*(m=Math.asin(f/l))/Math.PI<n))return!1;t.stopPropagation(),h.Move.make(s*function(t){return parseFloat(t)}(i)),h.Html.root.classList.add(o.dragging),v.emit("swipe.move")}},end:function(t){if(!d.disabled){var e=d.settings,n=this.touches(t),i=this.threshold(t),o=n.pageX-p,r=180*m/Math.PI,s=Math.round(o/h.Sizes.slideWidth);this.enable(),i<o&&r<e.touchAngle?(e.perTouch&&(s=Math.min(s,y(e.perTouch))),h.Direction.is("rtl")&&(s=-s),h.Run.make(h.Direction.resolve("<"+s))):o<-i&&r<e.touchAngle?(e.perTouch&&(s=Math.max(s,-y(e.perTouch))),h.Direction.is("rtl")&&(s=-s),h.Run.make(h.Direction.resolve(">"+s))):h.Move.make(),h.Html.root.classList.remove(e.classes.dragging),this.unbindSwipeMove(),this.unbindSwipeEnd(),v.emit("swipe.end")}},bindSwipeStart:function(){var e=this,t=d.settings;t.swipeThreshold&&n.on(E[0],h.Html.wrapper,function(t){e.start(t)},o),t.dragThreshold&&n.on(E[1],h.Html.wrapper,function(t){e.start(t)},o)},unbindSwipeStart:function(){n.off(E[0],h.Html.wrapper,o),n.off(E[1],h.Html.wrapper,o)},bindSwipeMove:function(){var e=this;n.on(z,h.Html.wrapper,w(function(t){e.move(t)},d.settings.throttle),o)},unbindSwipeMove:function(){n.off(z,h.Html.wrapper,o)},bindSwipeEnd:function(){var e=this;n.on(D,h.Html.wrapper,function(t){e.end(t)})},unbindSwipeEnd:function(){n.off(D,h.Html.wrapper)},touches:function(t){return-1<R.indexOf(t.type)?t:t.touches[0]||t.changedTouches[0]},threshold:function(t){var e=d.settings;return-1<R.indexOf(t.type)?e.dragThreshold:e.swipeThreshold},enable:function(){return i=!1,h.Transition.enable(),this},disable:function(){return i=!0,h.Transition.disable(),this}};return v.on("build.after",function(){h.Html.root.classList.add(d.settings.classes.swipeable)}),v.on("destroy",function(){t.unbindSwipeStart(),t.unbindSwipeMove(),t.unbindSwipeEnd(),n.destroy()}),t},Images:function(t,e,n){var i=new T,o={mount:function(){this.bind()},bind:function(){i.on("dragstart",e.Html.wrapper,this.dragstart)},unbind:function(){i.off("dragstart",e.Html.wrapper)},dragstart:function(t){t.preventDefault()}};return n.on("destroy",function(){o.unbind(),i.destroy()}),o},Anchors:function(t,e,n){var i=new T,o=!1,r=!1,s={mount:function(){this._a=e.Html.wrapper.querySelectorAll("a"),this.bind()},bind:function(){i.on("click",e.Html.wrapper,this.click)},unbind:function(){i.off("click",e.Html.wrapper)},click:function(t){r&&(t.stopPropagation(),t.preventDefault())},detach:function(){if(r=!0,!o){for(var t=0;t<this.items.length;t++)this.items[t].draggable=!1,this.items[t].setAttribute("data-href",this.items[t].getAttribute("href")),this.items[t].removeAttribute("href");o=!0}return this},attach:function(){if(r=!1,o){for(var t=0;t<this.items.length;t++)this.items[t].draggable=!0,this.items[t].setAttribute("href",this.items[t].getAttribute("data-href"));o=!1}return this}};return h(s,"items",{get:function(){return s._a}}),n.on("swipe.move",function(){s.detach()}),n.on("swipe.end",function(){e.Transition.after(function(){s.attach()})}),n.on("destroy",function(){s.attach(),s.unbind(),i.destroy()}),s},Controls:function(i,e,t){var n=new T,o=!!j&&{passive:!0},r={mount:function(){this._n=e.Html.root.querySelectorAll('[data-glide-el="controls[nav]"]'),this._c=e.Html.root.querySelectorAll('[data-glide-el^="controls"]'),this.addBindings()},setActive:function(){for(var t=0;t<this._n.length;t++)this.addClass(this._n[t].children)},removeActive:function(){for(var t=0;t<this._n.length;t++)this.removeClass(this._n[t].children)},addClass:function(t){var e=i.settings,n=t[i.smm];n&&(n.classList.add(e.classes.activeNav),_(n).forEach(function(t){t.classList.remove(e.classes.activeNav)}))},removeClass:function(t){var e=t[i.smm];e&&e.classList.remove(i.settings.classes.activeNav)},addBindings:function(){for(var t=0;t<this._c.length;t++)this.bind(this._c[t].children)},removeBindings:function(){for(var t=0;t<this._c.length;t++)this.unbind(this._c[t].children)},bind:function(t){for(var e=0;e<t.length;e++)n.on("click",t[e],this.click),n.on("touchstart",t[e],this.click,o)},unbind:function(t){for(var e=0;e<t.length;e++)n.off(["click","touchstart"],t[e])},click:function(t){t.preventDefault(),e.Run.make(e.Direction.resolve(t.currentTarget.getAttribute("data-glide-dir")))}};return h(r,"items",{get:function(){return r._c}}),t.on(["mount.after","move.after"],function(){r.setActive()}),t.on("destroy",function(){r.removeBindings(),r.removeActive(),n.destroy()}),r},Keyboard:function(t,e,n){var i=new T,o={mount:function(){t.settings.keyboard&&this.bind()},bind:function(){i.on("keyup",document,this.press)},unbind:function(){i.off("keyup",document)},press:function(t){39===t.keyCode&&e.Run.make(e.Direction.resolve(">")),37===t.keyCode&&e.Run.make(e.Direction.resolve("<"))}};return n.on(["destroy","update"],function(){o.unbind()}),n.on("update",function(){o.mount()}),n.on("destroy",function(){i.destroy()}),o},Autoplay:function(e,n,t){var i=new T,o={mount:function(){this.start(),e.settings.hoverpause&&this.bind()},start:function(){var t=this;e.settings.autoplay&&f(this._i)&&(this._i=setInterval(function(){t.stop(),n.Run.make(">"),t.start()},this.time))},stop:function(){this._i=clearInterval(this._i)},bind:function(){var t=this;i.on("mouseover",n.Html.root,function(){t.stop()}),i.on("mouseout",n.Html.root,function(){t.start()})},unbind:function(){i.off(["mouseover","mouseout"],n.Html.root)}};return h(o,"time",{get:function(){var t=n.Html.slides[e.smm].getAttribute("data-glide-autoplay");return y(t||e.settings.autoplay)}}),t.on(["destroy","update"],function(){o.unbind()}),t.on(["run.before","pause","destroy","swipe.start","update"],function(){o.stop()}),t.on(["run.after","play","swipe.end"],function(){o.start()}),t.on("update",function(){o.mount()}),t.on("destroy",function(){i.destroy()}),o},Breakpoints:function(t,e,n){var i=new T,o=t.settings,r=W(o.breakpoints),s=a({},o),u={match:function(t){if(void 0!==window.matchMedia)for(var e in t)if(t.hasOwnProperty(e)&&window.matchMedia("(max-width: "+e+"px)").matches)return t[e];return s}};return a(o,u.match(r)),i.on("resize",window,w(function(){t.settings=v(o,u.match(r))},t.settings.throttle)),n.on("update",function(){r=W(r),s=a({},o)}),n.on("destroy",function(){i.off("resize",window)}),u}};function B(){return i(this,B),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(B.__proto__||Object.getPrototypeOf(B)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(B,p),t(B,[{key:"mount",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};return function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0}(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"mount",this).call(this,a({},q,e))}}]),B});for(var btnModalOpen=document.querySelectorAll(".modal-show"),btnModalClose=document.querySelector(".modal-close"),modalWindow=document.querySelector(".modal"),modalInnerLayer=document.querySelector(".modal-inner-layer"),htmlBlock=document.querySelector("html"),b=0;b<btnModalOpen.length;b+=1)btnModalOpen[b].addEventListener("click",function(){modalWindow.classList.add("modal-open"),htmlBlock.style.overflow="hidden"});modalInnerLayer.addEventListener("click",function(){modalWindow.classList.remove("modal-open"),htmlBlock.style.overflow="visible"}),btnModalClose.addEventListener("click",function(){modalWindow.classList.remove("modal-open"),htmlBlock.style.overflow="visible"});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZ2xvYmFsIiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJHbGlkZSIsInRoaXMiLCJkZWZhdWx0cyIsInR5cGUiLCJzdGFydEF0IiwicGVyVmlldyIsImZvY3VzQXQiLCJnYXAiLCJhdXRvcGxheSIsImhvdmVycGF1c2UiLCJrZXlib2FyZCIsImJvdW5kIiwic3dpcGVUaHJlc2hvbGQiLCJkcmFnVGhyZXNob2xkIiwicGVyVG91Y2giLCJ0b3VjaFJhdGlvIiwidG91Y2hBbmdsZSIsImFuaW1hdGlvbkR1cmF0aW9uIiwicmV3aW5kIiwicmV3aW5kRHVyYXRpb24iLCJhbmltYXRpb25UaW1pbmdGdW5jIiwidGhyb3R0bGUiLCJkaXJlY3Rpb24iLCJwZWVrIiwiYnJlYWtwb2ludHMiLCJjbGFzc2VzIiwibHRyIiwicnRsIiwic2xpZGVyIiwiY2Fyb3VzZWwiLCJzd2lwZWFibGUiLCJkcmFnZ2luZyIsImNsb25lU2xpZGUiLCJhY3RpdmVOYXYiLCJhY3RpdmVTbGlkZSIsImRpc2FibGVkQXJyb3ciLCJ3YXJuIiwibXNnIiwiY29uc29sZSIsImVycm9yIiwiY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwib2JqIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJjcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJfZXh0ZW5kcyIsImFzc2lnbiIsImFyZ3VtZW50cyIsInNvdXJjZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInRvSW50IiwidmFsdWUiLCJwYXJzZUludCIsImlzU3RyaW5nIiwiaXNPYmplY3QiLCJpc0Z1bmN0aW9uIiwiaXNVbmRlZmluZWQiLCJpc0FycmF5IiwiQXJyYXkiLCJwcm9wIiwiZGVmaW5pdGlvbiIsIm1lcmdlT3B0aW9ucyIsInNldHRpbmdzIiwib3B0aW9ucyIsIkV2ZW50c0J1cyIsImV2ZW50IiwiaGFuZGxlciIsIm9uIiwiaG9wIiwiZXZlbnRzIiwiaW5kZXgiLCJwdXNoIiwicmVtb3ZlIiwiY29udGV4dCIsImVtaXQiLCJmb3JFYWNoIiwiaXRlbSIsInVuZGVmaW5lZCIsImV4dGVuc2lvbnMiLCJfZSIsIl9jIiwiZ2xpZGUiLCJjb21wb25lbnRzIiwibmFtZSIsIl9uYW1lIiwibW91bnQiLCJ0cmFuc2Zvcm1lcnMiLCJfdCIsInBhdHRlcm4iLCJSdW4iLCJtYWtlIiwiZGlzdGFuY2UiLCJUcmFuc2l0aW9uIiwiZGlzYWJsZSIsIk1vdmUiLCJpbnRlcnZhbCIsImRpc2FibGVkIiwiZ2V0IiwiX28iLCJzZXQiLCJvIiwiX2kiLCJfZCIsInN0YXR1cyIsInNlbGVjdG9yIiwibm93IiwiRGF0ZSIsImdldFRpbWUiLCJmdW5jIiwid2FpdCIsInRpbWVvdXQiLCJhcmdzIiwicmVzdWx0IiwicHJldmlvdXMiLCJsYXRlciIsImxlYWRpbmciLCJhcHBseSIsInRocm90dGxlZCIsImF0IiwicmVtYWluaW5nIiwiY2xlYXJUaW1lb3V0IiwidHJhaWxpbmciLCJzZXRUaW1lb3V0IiwiY2FuY2VsIiwiTUFSR0lOX1RZUEUiLCJzaWJsaW5ncyIsIm5vZGUiLCJwYXJlbnROb2RlIiwibiIsImZpcnN0Q2hpbGQiLCJtYXRjaGVkIiwibmV4dFNpYmxpbmciLCJub2RlVHlwZSIsImV4aXN0Iiwid2luZG93IiwiSFRNTEVsZW1lbnQiLCJUUkFDS19TRUxFQ1RPUiIsIkV2ZW50c0JpbmRlciIsImVsIiwiY2xvc3VyZSIsImNhcHR1cmUiLCJsaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlZBTElEX0RJUkVDVElPTlMiLCJGTElQRURfTU9WRU1FTlRTIiwiPiIsIjwiLCI9IiwiUnRsIiwiQ29tcG9uZW50cyIsIm1vZGlmeSIsInRyYW5zbGF0ZSIsIkRpcmVjdGlvbiIsImlzIiwibXV0YXRvciIsIkV2ZW50cyIsIlRSQU5TRk9STUVSUyIsIkdhcHMiLCJzbW0iLCJDbG9uZXMiLCJncm93IiwiUGVlayIsImJlZm9yZSIsIndpZHRoIiwiU2l6ZXMiLCJzbGlkZVdpZHRoIiwiY29uY2F0IiwibXV0YXRlIiwidHJhbnNmb3JtZXIiLCJzdXBwb3J0c1Bhc3NpdmUiLCJvcHRzIiwiZSIsInN1cHBvcnRzUGFzc2l2ZSQxIiwiU1RBUlRfRVZFTlRTIiwiTU9WRV9FVkVOVFMiLCJFTkRfRVZFTlRTIiwiTU9VU0VfRVZFTlRTIiwic29ydEJyZWFrcG9pbnRzIiwicG9pbnRzIiwia2V5cyIsInNvcnQiLCJyZWR1Y2UiLCJyIiwiayIsInNvcnRLZXlzIiwiQ09NUE9ORU5UUyIsIkh0bWwiLCJyb290IiwidHJhY2siLCJxdWVyeVNlbGVjdG9yIiwic2xpZGVzIiwic2xpY2UiLCJ3cmFwcGVyIiwiY2hpbGRyZW4iLCJmaWx0ZXIiLCJzbGlkZSIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiX3IiLCJkb2N1bWVudCIsInQiLCJUcmFuc2xhdGUiLCJ0cmFuc2Zvcm0iLCJzdHlsZSIsImlzVHlwZSIsImlzT2Zmc2V0IiwiYWZ0ZXIiLCJtb3ZlbWVudCIsImNvbXBvc2UiLCJwcm9wZXJ0eSIsImR1cmF0aW9uIiwidHJhbnNpdGlvbiIsImNhbGxiYWNrIiwiZW5hYmxlIiwib2Zmc2V0IiwicmVzb2x2ZSIsInRva2VuIiwic3BsaXQiLCJqb2luIiwiYWRkQ2xhc3MiLCJhZGQiLCJyZW1vdmVDbGFzcyIsIl92IiwiaW5kZXhPZiIsInNldHVwU2xpZGVzIiwic2V0dXBXcmFwcGVyIiwiZGltZW50aW9uIiwid3JhcHBlclNpemUiLCJvZmZzZXRXaWR0aCIsInJlZHVjdG9yIiwibGVuIiwibWFyZ2luTGVmdCIsIm1hcmdpblJpZ2h0IiwiX3RoaXMiLCJpdGVtcyIsImNvbGxlY3QiLCJfR2xpZGUkc2V0dGluZ3MiLCJwYXJ0Iiwic3RhcnQiLCJlbmQiLCJNYXRoIiwibWF4IiwiZmxvb3IiLCJjbG9uZSIsImNsb25lTm9kZSIsIl9jbG9uZSIsInVuc2hpZnQiLCJhcHBlbmQiLCJfQ29tcG9uZW50cyRIdG1sIiwiaGFsZiIsInByZXBlbmQiLCJyZXZlcnNlIiwiYXBwZW5kQ2hpbGQiLCJfaTIiLCJpbnNlcnRCZWZvcmUiLCJfaTMiLCJyZW1vdmVDaGlsZCIsIlJlc2l6ZSIsIkJpbmRlciIsImJpbmQiLCJ1bmJpbmQiLCJvZmYiLCJkZXN0cm95IiwiQnVpbGQiLCJ0eXBlQ2xhc3MiLCJhY3RpdmVDbGFzcyIsInNpYmxpbmciLCJyZW1vdmVDbGFzc2VzIiwibW92ZSIsImNhbGN1bGF0ZSIsImlzU3RhcnQiLCJpc0VuZCIsInN0ZXBzIiwiY291bnRhYmxlU3RlcHMiLCJpc051bWJlciIsIm1pbiIsIl9tIiwic3RlcCIsInN1YnN0ciIsIlN3aXBlIiwic3dpcGVTaW4iLCJzd2lwZVN0YXJ0WCIsInN3aXBlU3RhcnRZIiwicGFzc2l2ZSIsImJpbmRTd2lwZVN0YXJ0Iiwic3dpcGUiLCJ0b3VjaGVzIiwicGFnZVgiLCJwYWdlWSIsImJpbmRTd2lwZU1vdmUiLCJiaW5kU3dpcGVFbmQiLCJzdWJFeFN4Iiwic3ViRXlTeSIsInBvd0VYIiwiYWJzIiwicG93RVkiLCJzd2lwZUh5cG90ZW51c2UiLCJzcXJ0Iiwic3dpcGVDYXRoZXR1cyIsImFzaW4iLCJQSSIsInN0b3BQcm9wYWdhdGlvbiIsInBhcnNlRmxvYXQiLCJ0b0Zsb2F0IiwidGhyZXNob2xkIiwic3dpcGVEaXN0YW5jZSIsInN3aXBlRGVnIiwicm91bmQiLCJ1bmJpbmRTd2lwZU1vdmUiLCJ1bmJpbmRTd2lwZUVuZCIsInVuYmluZFN3aXBlU3RhcnQiLCJfdGhpczIiLCJfdGhpczMiLCJjaGFuZ2VkVG91Y2hlcyIsIkltYWdlcyIsImRyYWdzdGFydCIsInByZXZlbnREZWZhdWx0IiwiQW5jaG9ycyIsImRldGFjaGVkIiwicHJldmVudGVkIiwiX2EiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2xpY2siLCJkZXRhY2giLCJkcmFnZ2FibGUiLCJzZXRBdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJhdHRhY2giLCJDb250cm9scyIsIl9uIiwiYWRkQmluZGluZ3MiLCJzZXRBY3RpdmUiLCJyZW1vdmVBY3RpdmUiLCJjb250cm9scyIsInJlbW92ZUJpbmRpbmdzIiwiZWxlbWVudHMiLCJjdXJyZW50VGFyZ2V0IiwiS2V5Ym9hcmQiLCJwcmVzcyIsImtleUNvZGUiLCJBdXRvcGxheSIsInNldEludGVydmFsIiwic3RvcCIsInRpbWUiLCJjbGVhckludGVydmFsIiwiQnJlYWtwb2ludHMiLCJtYXRjaCIsIm1hdGNoTWVkaWEiLCJwb2ludCIsIm1hdGNoZXMiLCJHbGlkZSQkMSIsInNlbGYiLCJSZWZlcmVuY2VFcnJvciIsInBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJfX3Byb3RvX18iLCJnZXRQcm90b3R5cGVPZiIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImNyZWF0ZSIsInNldFByb3RvdHlwZU9mIiwiaW5oZXJpdHMiLCJvYmplY3QiLCJyZWNlaXZlciIsIkZ1bmN0aW9uIiwiZGVzYyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInBhcmVudCIsImdldHRlciIsImJ0bk1vZGFsT3BlbiIsImJ0bk1vZGFsQ2xvc2UiLCJtb2RhbFdpbmRvdyIsIm1vZGFsSW5uZXJMYXllciIsImh0bWxCbG9jayIsImIiLCJvdmVyZmxvdyJdLCJtYXBwaW5ncyI6IkNBTUMsU0FBVUEsRUFBUUMsR0FDRSxpQkFBWkMsU0FBMEMsb0JBQVhDLE9BQXlCQSxPQUFPRCxRQUFVRCxJQUM5RCxtQkFBWEcsUUFBeUJBLE9BQU9DLElBQU1ELE9BQU9ILEdBQ25ERCxFQUFPTSxNQUFRTCxJQUhsQixDQUlFTSxLQUFNLFdBQWUsYUFFckIsSUFBSUMsRUFBVyxDQVVi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UUFHdElrUixJQVlYLElBTkEsSUFBSWtCLGFBQWUxSyxTQUFTMEgsaUJBQWlCLGVBQ3pDaUQsY0FBZ0IzSyxTQUFTVixjQUFjLGdCQUN2Q3NMLFlBQWM1SyxTQUFTVixjQUFjLFVBQ3JDdUwsZ0JBQWtCN0ssU0FBU1YsY0FBYyxzQkFDekN3TCxVQUFZOUssU0FBU1YsY0FBYyxRQUUvQnlMLEVBQUksRUFBR0EsRUFBSUwsYUFBYTlVLE9BQVFtVixHQUFLLEVBQzNDTCxhQUFhSyxHQUFHek8saUJBQWlCLFFBQVMsV0FDeENzTyxZQUFZL0ssVUFBVXdCLElBQUksY0FDMUJ5SixVQUFVMUssTUFBTTRLLFNBQVcsV0FJL0JILGdCQUFnQnZPLGlCQUFpQixRQUFTLFdBQ3hDc08sWUFBWS9LLFVBQVU3SCxPQUFPLGNBQzdCOFMsVUFBVTFLLE1BQU00SyxTQUFXLFlBRzdCTCxjQUFjck8saUJBQWlCLFFBQVMsV0FDdENzTyxZQUFZL0ssVUFBVTdILE9BQU8sY0FDN0I4UyxVQUFVMUssTUFBTTRLLFNBQVciLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxyXG4gKiBHbGlkZS5qcyB2My40LjFcclxuICogKGMpIDIwMTMtMjAxOSBKxJlkcnplaiBDaGHFgnViZWsgPGplZHJ6ZWouY2hhbHViZWtAZ21haWwuY29tPiAoaHR0cDovL2plZHJ6ZWpjaGFsdWJlay5jb20vKVxyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcclxuICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XHJcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcclxuICAoZ2xvYmFsLkdsaWRlID0gZmFjdG9yeSgpKTtcclxufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XHJcblxyXG4gIHZhciBkZWZhdWx0cyA9IHtcclxuICAgIC8qKlxyXG4gICAgICogVHlwZSBvZiB0aGUgbW92ZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQXZhaWxhYmxlIHR5cGVzOlxyXG4gICAgICogYHNsaWRlcmAgLSBSZXdpbmRzIHNsaWRlciB0byB0aGUgc3RhcnQvZW5kIHdoZW4gaXQgcmVhY2hlcyB0aGUgZmlyc3Qgb3IgbGFzdCBzbGlkZS5cclxuICAgICAqIGBjYXJvdXNlbGAgLSBDaGFuZ2VzIHNsaWRlcyB3aXRob3V0IHN0YXJ0aW5nIG92ZXIgd2hlbiBpdCByZWFjaGVzIHRoZSBmaXJzdCBvciBsYXN0IHNsaWRlLlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtTdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHR5cGU6ICdzbGlkZXInLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RhcnQgYXQgc3BlY2lmaWMgc2xpZGUgbnVtYmVyIGRlZmluZWQgd2l0aCB6ZXJvLWJhc2VkIGluZGV4LlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIHN0YXJ0QXQ6IDAsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBIG51bWJlciBvZiBzbGlkZXMgdmlzaWJsZSBvbiB0aGUgc2luZ2xlIHZpZXdwb3J0LlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIHBlclZpZXc6IDEsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGb2N1cyBjdXJyZW50bHkgYWN0aXZlIHNsaWRlIGF0IGEgc3BlY2lmaWVkIHBvc2l0aW9uIGluIHRoZSB0cmFjay5cclxuICAgICAqXHJcbiAgICAgKiBBdmFpbGFibGUgaW5wdXRzOlxyXG4gICAgICogYGNlbnRlcmAgLSBDdXJyZW50IHNsaWRlIHdpbGwgYmUgYWx3YXlzIGZvY3VzZWQgYXQgdGhlIGNlbnRlciBvZiBhIHRyYWNrLlxyXG4gICAgICogYDAsMSwyLDMuLi5gIC0gQ3VycmVudCBzbGlkZSB3aWxsIGJlIGZvY3VzZWQgb24gdGhlIHNwZWNpZmllZCB6ZXJvLWJhc2VkIGluZGV4LlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtTdHJpbmd8TnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBmb2N1c0F0OiAwLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSBzaXplIG9mIHRoZSBnYXAgYWRkZWQgYmV0d2VlbiBzbGlkZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge051bWJlcn1cclxuICAgICAqL1xyXG4gICAgZ2FwOiAxMCxcclxuXHJcbiAgICAvKipcclxuICAgICAqIENoYW5nZSBzbGlkZXMgYWZ0ZXIgYSBzcGVjaWZpZWQgaW50ZXJ2YWwuIFVzZSBgZmFsc2VgIGZvciB0dXJuaW5nIG9mZiBhdXRvcGxheS5cclxuICAgICAqXHJcbiAgICAgKiBAdHlwZSB7TnVtYmVyfEJvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3AgYXV0b3BsYXkgb24gbW91c2VvdmVyIGV2ZW50LlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICBob3ZlcnBhdXNlOiB0cnVlLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWxsb3cgZm9yIGNoYW5naW5nIHNsaWRlcyB3aXRoIGxlZnQgYW5kIHJpZ2h0IGtleWJvYXJkIGFycm93cy5cclxuICAgICAqXHJcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAga2V5Ym9hcmQ6IHRydWUsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9wIHJ1bm5pbmcgYHBlclZpZXdgIG51bWJlciBvZiBzbGlkZXMgZnJvbSB0aGUgZW5kLiBVc2UgdGhpc1xyXG4gICAgICogb3B0aW9uIGlmIHlvdSBkb24ndCB3YW50IHRvIGhhdmUgYW4gZW1wdHkgc3BhY2UgYWZ0ZXJcclxuICAgICAqIGEgc2xpZGVyLiBXb3JrcyBvbmx5IHdpdGggYHNsaWRlcmAgdHlwZSBhbmQgYVxyXG4gICAgICogbm9uLWNlbnRlcmVkIGBmb2N1c0F0YCBzZXR0aW5nLlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICBib3VuZDogZmFsc2UsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNaW5pbWFsIHN3aXBlIGRpc3RhbmNlIG5lZWRlZCB0byBjaGFuZ2UgdGhlIHNsaWRlLiBVc2UgYGZhbHNlYCBmb3IgdHVybmluZyBvZmYgYSBzd2lwaW5nLlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtOdW1iZXJ8Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgc3dpcGVUaHJlc2hvbGQ6IDgwLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWluaW1hbCBtb3VzZSBkcmFnIGRpc3RhbmNlIG5lZWRlZCB0byBjaGFuZ2UgdGhlIHNsaWRlLiBVc2UgYGZhbHNlYCBmb3IgdHVybmluZyBvZmYgYSBkcmFnZ2luZy5cclxuICAgICAqXHJcbiAgICAgKiBAdHlwZSB7TnVtYmVyfEJvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGRyYWdUaHJlc2hvbGQ6IDEyMCxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEEgbWF4aW11bSBudW1iZXIgb2Ygc2xpZGVzIHRvIHdoaWNoIG1vdmVtZW50IHdpbGwgYmUgbWFkZSBvbiBzd2lwaW5nIG9yIGRyYWdnaW5nLiBVc2UgYGZhbHNlYCBmb3IgdW5saW1pdGVkLlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtOdW1iZXJ8Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgcGVyVG91Y2g6IGZhbHNlLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTW92aW5nIGRpc3RhbmNlIHJhdGlvIG9mIHRoZSBzbGlkZXMgb24gYSBzd2lwaW5nIGFuZCBkcmFnZ2luZy5cclxuICAgICAqXHJcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAgICovXHJcbiAgICB0b3VjaFJhdGlvOiAwLjUsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBbmdsZSByZXF1aXJlZCB0byBhY3RpdmF0ZSBzbGlkZXMgbW92aW5nIG9uIHN3aXBpbmcgb3IgZHJhZ2dpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge051bWJlcn1cclxuICAgICAqL1xyXG4gICAgdG91Y2hBbmdsZTogNDUsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uIGluIG1pbGxpc2Vjb25kcy5cclxuICAgICAqXHJcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBhbmltYXRpb25EdXJhdGlvbjogNDAwLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWxsb3dzIGxvb3BpbmcgdGhlIGBzbGlkZXJgIHR5cGUuIFNsaWRlciB3aWxsIHJld2luZCB0byB0aGUgZmlyc3QvbGFzdCBzbGlkZSB3aGVuIGl0J3MgYXQgdGhlIHN0YXJ0L2VuZC5cclxuICAgICAqXHJcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgcmV3aW5kOiB0cnVlLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRHVyYXRpb24gb2YgdGhlIHJld2luZGluZyBhbmltYXRpb24gb2YgdGhlIGBzbGlkZXJgIHR5cGUgaW4gbWlsbGlzZWNvbmRzLlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIHJld2luZER1cmF0aW9uOiA4MDAsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFYXNpbmcgZnVuY3Rpb24gZm9yIHRoZSBhbmltYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge1N0cmluZ31cclxuICAgICAqL1xyXG4gICAgYW5pbWF0aW9uVGltaW5nRnVuYzogJ2N1YmljLWJlemllciguMTY1LCAuODQwLCAuNDQwLCAxKScsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaHJvdHRsZSBjb3N0bHkgZXZlbnRzIGF0IG1vc3Qgb25jZSBwZXIgZXZlcnkgd2FpdCBtaWxsaXNlY29uZHMuXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge051bWJlcn1cclxuICAgICAqL1xyXG4gICAgdGhyb3R0bGU6IDEwLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTW92aW5nIGRpcmVjdGlvbiBtb2RlLlxyXG4gICAgICpcclxuICAgICAqIEF2YWlsYWJsZSBpbnB1dHM6XHJcbiAgICAgKiAtICdsdHInIC0gbGVmdCB0byByaWdodCBtb3ZlbWVudCxcclxuICAgICAqIC0gJ3J0bCcgLSByaWdodCB0byBsZWZ0IG1vdmVtZW50LlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtTdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGRpcmVjdGlvbjogJ2x0cicsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgZGlzdGFuY2UgdmFsdWUgb2YgdGhlIG5leHQgYW5kIHByZXZpb3VzIHZpZXdwb3J0cyB3aGljaFxyXG4gICAgICogaGF2ZSB0byBwZWVrIGluIHRoZSBjdXJyZW50IHZpZXcuIEFjY2VwdHMgbnVtYmVyIGFuZFxyXG4gICAgICogcGl4ZWxzIGFzIGEgc3RyaW5nLiBMZWZ0IGFuZCByaWdodCBwZWVraW5nIGNhbiBiZVxyXG4gICAgICogc2V0IHVwIHNlcGFyYXRlbHkgd2l0aCBhIGRpcmVjdGlvbnMgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIEZvciBleGFtcGxlOlxyXG4gICAgICogYDEwMGAgLSBQZWVrIDEwMHB4IG9uIHRoZSBib3RoIHNpZGVzLlxyXG4gICAgICogeyBiZWZvcmU6IDEwMCwgYWZ0ZXI6IDUwIH1gIC0gUGVlayAxMDBweCBvbiB0aGUgbGVmdCBzaWRlIGFuZCA1MHB4IG9uIHRoZSByaWdodCBzaWRlLlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtOdW1iZXJ8U3RyaW5nfE9iamVjdH1cclxuICAgICAqL1xyXG4gICAgcGVlazogMCxcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbGxlY3Rpb24gb2Ygb3B0aW9ucyBhcHBsaWVkIGF0IHNwZWNpZmllZCBtZWRpYSBicmVha3BvaW50cy5cclxuICAgICAqIEZvciBleGFtcGxlOiBkaXNwbGF5IHR3byBzbGlkZXMgcGVyIHZpZXcgdW5kZXIgODAwcHguXHJcbiAgICAgKiBge1xyXG4gICAgICogICAnODAwcHgnOiB7XHJcbiAgICAgKiAgICAgcGVyVmlldzogMlxyXG4gICAgICogICB9XHJcbiAgICAgKiB9YFxyXG4gICAgICovXHJcbiAgICBicmVha3BvaW50czoge30sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGludGVybmFsbHkgdXNlZCBIVE1MIGNsYXNzZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHRvZG8gUmVmYWN0b3IgYHNsaWRlcmAgYW5kIGBjYXJvdXNlbGAgcHJvcGVydGllcyB0byBzaW5nbGUgYHR5cGU6IHsgc2xpZGVyOiAnJywgY2Fyb3VzZWw6ICcnIH1gIG9iamVjdFxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgY2xhc3Nlczoge1xyXG4gICAgICBkaXJlY3Rpb246IHtcclxuICAgICAgICBsdHI6ICdnbGlkZS0tbHRyJyxcclxuICAgICAgICBydGw6ICdnbGlkZS0tcnRsJ1xyXG4gICAgICB9LFxyXG4gICAgICBzbGlkZXI6ICdnbGlkZS0tc2xpZGVyJyxcclxuICAgICAgY2Fyb3VzZWw6ICdnbGlkZS0tY2Fyb3VzZWwnLFxyXG4gICAgICBzd2lwZWFibGU6ICdnbGlkZS0tc3dpcGVhYmxlJyxcclxuICAgICAgZHJhZ2dpbmc6ICdnbGlkZS0tZHJhZ2dpbmcnLFxyXG4gICAgICBjbG9uZVNsaWRlOiAnZ2xpZGVfX3NsaWRlLS1jbG9uZScsXHJcbiAgICAgIGFjdGl2ZU5hdjogJ2dsaWRlX19idWxsZXQtLWFjdGl2ZScsXHJcbiAgICAgIGFjdGl2ZVNsaWRlOiAnZ2xpZGVfX3NsaWRlLS1hY3RpdmUnLFxyXG4gICAgICBkaXNhYmxlZEFycm93OiAnZ2xpZGVfX2Fycm93LS1kaXNhYmxlZCdcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBPdXRwdXRzIHdhcm5pbmcgbWVzc2FnZSB0byB0aGUgYm93c2VyIGNvbnNvbGUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IG1zZ1xyXG4gICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gd2Fybihtc2cpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJbR2xpZGUgd2Fybl06IFwiICsgbXNnKTtcclxuICB9XHJcblxyXG4gIHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIG9iajtcclxuICB9IDogZnVuY3Rpb24gKG9iaikge1xyXG4gICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XHJcbiAgfTtcclxuXHJcbiAgdmFyIGNsYXNzQ2FsbENoZWNrID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xyXG4gICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcclxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB2YXIgY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XHJcbiAgICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xyXG4gICAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcclxuICAgICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XHJcbiAgICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XHJcbiAgICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xyXG4gICAgICByZXR1cm4gQ29uc3RydWN0b3I7XHJcbiAgICB9O1xyXG4gIH0oKTtcclxuXHJcbiAgdmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xyXG5cclxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xyXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XHJcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgfTtcclxuXHJcbiAgdmFyIGdldCA9IGZ1bmN0aW9uIGdldChvYmplY3QsIHByb3BlcnR5LCByZWNlaXZlcikge1xyXG4gICAgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlO1xyXG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpO1xyXG5cclxuICAgIGlmIChkZXNjID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpO1xyXG5cclxuICAgICAgaWYgKHBhcmVudCA9PT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHtcclxuICAgICAgcmV0dXJuIGRlc2MudmFsdWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7XHJcblxyXG4gICAgICBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHZhciBpbmhlcml0cyA9IGZ1bmN0aW9uIChzdWJDbGFzcywgc3VwZXJDbGFzcykge1xyXG4gICAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xyXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcclxuICAgICAgY29uc3RydWN0b3I6IHtcclxuICAgICAgICB2YWx1ZTogc3ViQ2xhc3MsXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xyXG4gIH07XHJcblxyXG4gIHZhciBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuID0gZnVuY3Rpb24gKHNlbGYsIGNhbGwpIHtcclxuICAgIGlmICghc2VsZikge1xyXG4gICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29udmVydHMgdmFsdWUgZW50ZXJlZCBhcyBudW1iZXJcclxuICAgKiBvciBzdHJpbmcgdG8gaW50ZWdlciB2YWx1ZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gdG9JbnQodmFsdWUpIHtcclxuICAgIHJldHVybiBwYXJzZUludCh2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb252ZXJ0cyB2YWx1ZSBlbnRlcmVkIGFzIG51bWJlclxyXG4gICAqIG9yIHN0cmluZyB0byBmbGF0IHZhbHVlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXHJcbiAgICogQHJldHVybnMge051bWJlcn1cclxuICAgKi9cclxuICBmdW5jdGlvbiB0b0Zsb2F0KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIGEgc3RyaW5nLlxyXG4gICAqXHJcbiAgICogQHBhcmFtICB7Kn0gICB2YWx1ZVxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCB2YWx1ZSBpcyBhbiBvYmplY3QuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gIHsqfSB2YWx1ZVxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICpcclxuICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXNoa2VuYXMvdW5kZXJzY29yZVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XHJcbiAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YodmFsdWUpO1xyXG5cclxuICAgIHJldHVybiB0eXBlID09PSAnZnVuY3Rpb24nIHx8IHR5cGUgPT09ICdvYmplY3QnICYmICEhdmFsdWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbWl4ZWQtb3BlcmF0b3JzXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIGEgbnVtYmVyLlxyXG4gICAqXHJcbiAgICogQHBhcmFtICB7Kn0gdmFsdWVcclxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgYSBmdW5jdGlvbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSAgeyp9IHZhbHVlXHJcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgKi9cclxuICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCB2YWx1ZSBpcyB1bmRlZmluZWQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gIHsqfSB2YWx1ZVxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCB2YWx1ZSBpcyBhbiBhcnJheS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSAgeyp9IHZhbHVlXHJcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgKi9cclxuICBmdW5jdGlvbiBpc0FycmF5KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhbmQgaW5pdGlhbGl6ZXMgc3BlY2lmaWVkIGNvbGxlY3Rpb24gb2YgZXh0ZW5zaW9ucy5cclxuICAgKiBFYWNoIGV4dGVuc2lvbiByZWNlaXZlcyBhY2Nlc3MgdG8gaW5zdGFuY2Ugb2YgZ2xpZGUgYW5kIHJlc3Qgb2YgY29tcG9uZW50cy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBnbGlkZVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBleHRlbnNpb25zXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIG1vdW50KGdsaWRlLCBleHRlbnNpb25zLCBldmVudHMpIHtcclxuICAgIHZhciBjb21wb25lbnRzID0ge307XHJcblxyXG4gICAgZm9yICh2YXIgbmFtZSBpbiBleHRlbnNpb25zKSB7XHJcbiAgICAgIGlmIChpc0Z1bmN0aW9uKGV4dGVuc2lvbnNbbmFtZV0pKSB7XHJcbiAgICAgICAgY29tcG9uZW50c1tuYW1lXSA9IGV4dGVuc2lvbnNbbmFtZV0oZ2xpZGUsIGNvbXBvbmVudHMsIGV2ZW50cyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgd2FybignRXh0ZW5zaW9uIG11c3QgYmUgYSBmdW5jdGlvbicpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgX25hbWUgaW4gY29tcG9uZW50cykge1xyXG4gICAgICBpZiAoaXNGdW5jdGlvbihjb21wb25lbnRzW19uYW1lXS5tb3VudCkpIHtcclxuICAgICAgICBjb21wb25lbnRzW19uYW1lXS5tb3VudCgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNvbXBvbmVudHM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZWZpbmVzIGdldHRlciBhbmQgc2V0dGVyIHByb3BlcnR5IG9uIHRoZSBzcGVjaWZpZWQgb2JqZWN0LlxyXG4gICAqXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBvYmogICAgICAgICBPYmplY3Qgd2hlcmUgcHJvcGVydHkgaGFzIHRvIGJlIGRlZmluZWQuXHJcbiAgICogQHBhcmFtICB7U3RyaW5nfSBwcm9wICAgICAgICBOYW1lIG9mIHRoZSBkZWZpbmVkIHByb3BlcnR5LlxyXG4gICAqIEBwYXJhbSAge09iamVjdH0gZGVmaW5pdGlvbiAgR2V0IGFuZCBzZXQgZGVmaW5pdGlvbnMgZm9yIHRoZSBwcm9wZXJ0eS5cclxuICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGRlZmluZShvYmosIHByb3AsIGRlZmluaXRpb24pIHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIHByb3AsIGRlZmluaXRpb24pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU29ydHMgYXBoYWJldGljYWxseSBvYmplY3Qga2V5cy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSAge09iamVjdH0gb2JqXHJcbiAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHNvcnRLZXlzKG9iaikge1xyXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikuc29ydCgpLnJlZHVjZShmdW5jdGlvbiAociwgaykge1xyXG4gICAgICByW2tdID0gb2JqW2tdO1xyXG5cclxuICAgICAgcmV0dXJuIHJba10sIHI7XHJcbiAgICB9LCB7fSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNZXJnZXMgcGFzc2VkIHNldHRpbmdzIG9iamVjdCB3aXRoIGRlZmF1bHQgb3B0aW9ucy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSAge09iamVjdH0gZGVmYXVsdHNcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IHNldHRpbmdzXHJcbiAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIG1lcmdlT3B0aW9ucyhkZWZhdWx0cywgc2V0dGluZ3MpIHtcclxuICAgIHZhciBvcHRpb25zID0gX2V4dGVuZHMoe30sIGRlZmF1bHRzLCBzZXR0aW5ncyk7XHJcblxyXG4gICAgLy8gYE9iamVjdC5hc3NpZ25gIGRvIG5vdCBkZWVwbHkgbWVyZ2Ugb2JqZWN0cywgc28gd2VcclxuICAgIC8vIGhhdmUgdG8gZG8gaXQgbWFudWFsbHkgZm9yIGV2ZXJ5IG5lc3RlZCBvYmplY3RcclxuICAgIC8vIGluIG9wdGlvbnMuIEFsdGhvdWdoIGl0IGRvZXMgbm90IGxvb2sgc21hcnQsXHJcbiAgICAvLyBpdCdzIHNtYWxsZXIgYW5kIGZhc3RlciB0aGFuIHNvbWUgZmFuY3lcclxuICAgIC8vIG1lcmdpbmcgZGVlcC1tZXJnZSBhbGdvcml0aG0gc2NyaXB0LlxyXG4gICAgaWYgKHNldHRpbmdzLmhhc093blByb3BlcnR5KCdjbGFzc2VzJykpIHtcclxuICAgICAgb3B0aW9ucy5jbGFzc2VzID0gX2V4dGVuZHMoe30sIGRlZmF1bHRzLmNsYXNzZXMsIHNldHRpbmdzLmNsYXNzZXMpO1xyXG5cclxuICAgICAgaWYgKHNldHRpbmdzLmNsYXNzZXMuaGFzT3duUHJvcGVydHkoJ2RpcmVjdGlvbicpKSB7XHJcbiAgICAgICAgb3B0aW9ucy5jbGFzc2VzLmRpcmVjdGlvbiA9IF9leHRlbmRzKHt9LCBkZWZhdWx0cy5jbGFzc2VzLmRpcmVjdGlvbiwgc2V0dGluZ3MuY2xhc3Nlcy5kaXJlY3Rpb24pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNldHRpbmdzLmhhc093blByb3BlcnR5KCdicmVha3BvaW50cycpKSB7XHJcbiAgICAgIG9wdGlvbnMuYnJlYWtwb2ludHMgPSBfZXh0ZW5kcyh7fSwgZGVmYXVsdHMuYnJlYWtwb2ludHMsIHNldHRpbmdzLmJyZWFrcG9pbnRzKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gb3B0aW9ucztcclxuICB9XHJcblxyXG4gIHZhciBFdmVudHNCdXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdCBhIEV2ZW50QnVzIGluc3RhbmNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudHNcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gRXZlbnRzQnVzKCkge1xyXG4gICAgICB2YXIgZXZlbnRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcclxuICAgICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgRXZlbnRzQnVzKTtcclxuXHJcbiAgICAgIHRoaXMuZXZlbnRzID0gZXZlbnRzO1xyXG4gICAgICB0aGlzLmhvcCA9IGV2ZW50cy5oYXNPd25Qcm9wZXJ0eTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgbGlzdGVuZXIgdG8gdGhlIHNwZWNpZmVkIGV2ZW50LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5fSBldmVudFxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxyXG4gICAgICovXHJcblxyXG5cclxuICAgIGNyZWF0ZUNsYXNzKEV2ZW50c0J1cywgW3tcclxuICAgICAga2V5OiAnb24nLFxyXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gb24oZXZlbnQsIGhhbmRsZXIpIHtcclxuICAgICAgICBpZiAoaXNBcnJheShldmVudCkpIHtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5vbihldmVudFtpXSwgaGFuZGxlcik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDcmVhdGUgdGhlIGV2ZW50J3Mgb2JqZWN0IGlmIG5vdCB5ZXQgY3JlYXRlZFxyXG4gICAgICAgIGlmICghdGhpcy5ob3AuY2FsbCh0aGlzLmV2ZW50cywgZXZlbnQpKSB7XHJcbiAgICAgICAgICB0aGlzLmV2ZW50c1tldmVudF0gPSBbXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFkZCB0aGUgaGFuZGxlciB0byBxdWV1ZVxyXG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuZXZlbnRzW2V2ZW50XS5wdXNoKGhhbmRsZXIpIC0gMTtcclxuXHJcbiAgICAgICAgLy8gUHJvdmlkZSBoYW5kbGUgYmFjayBmb3IgcmVtb3ZhbCBvZiBldmVudFxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZXZlbnRzW2V2ZW50XVtpbmRleF07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFJ1bnMgcmVnaXN0ZXJlZCBoYW5kbGVycyBmb3Igc3BlY2lmaWVkIGV2ZW50LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheX0gZXZlbnRcclxuICAgICAgICogQHBhcmFtIHtPYmplY3Q9fSBjb250ZXh0XHJcbiAgICAgICAqL1xyXG5cclxuICAgIH0sIHtcclxuICAgICAga2V5OiAnZW1pdCcsXHJcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBlbWl0KGV2ZW50LCBjb250ZXh0KSB7XHJcbiAgICAgICAgaWYgKGlzQXJyYXkoZXZlbnQpKSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdChldmVudFtpXSwgY29udGV4dCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiB0aGUgZXZlbnQgZG9lc24ndCBleGlzdCwgb3IgdGhlcmUncyBubyBoYW5kbGVycyBpbiBxdWV1ZSwganVzdCBsZWF2ZVxyXG4gICAgICAgIGlmICghdGhpcy5ob3AuY2FsbCh0aGlzLmV2ZW50cywgZXZlbnQpKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDeWNsZSB0aHJvdWdoIGV2ZW50cyBxdWV1ZSwgZmlyZSFcclxuICAgICAgICB0aGlzLmV2ZW50c1tldmVudF0uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgaXRlbShjb250ZXh0IHx8IHt9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfV0pO1xyXG4gICAgcmV0dXJuIEV2ZW50c0J1cztcclxuICB9KCk7XHJcblxyXG4gIHZhciBHbGlkZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0IGdsaWRlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gc2VsZWN0b3JcclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBHbGlkZShzZWxlY3Rvcikge1xyXG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XHJcbiAgICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIEdsaWRlKTtcclxuXHJcbiAgICAgIHRoaXMuX2MgPSB7fTtcclxuICAgICAgdGhpcy5fdCA9IFtdO1xyXG4gICAgICB0aGlzLl9lID0gbmV3IEV2ZW50c0J1cygpO1xyXG5cclxuICAgICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICB0aGlzLnNlbGVjdG9yID0gc2VsZWN0b3I7XHJcbiAgICAgIHRoaXMuc2V0dGluZ3MgPSBtZXJnZU9wdGlvbnMoZGVmYXVsdHMsIG9wdGlvbnMpO1xyXG4gICAgICB0aGlzLmluZGV4ID0gdGhpcy5zZXR0aW5ncy5zdGFydEF0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZXMgZ2xpZGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV4dGVuc2lvbnMgQ29sbGVjdGlvbiBvZiBleHRlbnNpb25zIHRvIGluaXRpYWxpemUuXHJcbiAgICAgKiBAcmV0dXJuIHtHbGlkZX1cclxuICAgICAqL1xyXG5cclxuXHJcbiAgICBjcmVhdGVDbGFzcyhHbGlkZSwgW3tcclxuICAgICAga2V5OiAnbW91bnQnLFxyXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gbW91bnQkJDEoKSB7XHJcbiAgICAgICAgdmFyIGV4dGVuc2lvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xyXG5cclxuICAgICAgICB0aGlzLl9lLmVtaXQoJ21vdW50LmJlZm9yZScpO1xyXG5cclxuICAgICAgICBpZiAoaXNPYmplY3QoZXh0ZW5zaW9ucykpIHtcclxuICAgICAgICAgIHRoaXMuX2MgPSBtb3VudCh0aGlzLCBleHRlbnNpb25zLCB0aGlzLl9lKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgd2FybignWW91IG5lZWQgdG8gcHJvdmlkZSBhIG9iamVjdCBvbiBgbW91bnQoKWAnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2UuZW1pdCgnbW91bnQuYWZ0ZXInKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBDb2xsZWN0cyBhbiBpbnN0YW5jZSBgdHJhbnNsYXRlYCB0cmFuc2Zvcm1lcnMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSAge0FycmF5fSB0cmFuc2Zvcm1lcnMgQ29sbGVjdGlvbiBvZiB0cmFuc2Zvcm1lcnMuXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG5cclxuICAgIH0sIHtcclxuICAgICAga2V5OiAnbXV0YXRlJyxcclxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG11dGF0ZSgpIHtcclxuICAgICAgICB2YXIgdHJhbnNmb3JtZXJzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcclxuXHJcbiAgICAgICAgaWYgKGlzQXJyYXkodHJhbnNmb3JtZXJzKSkge1xyXG4gICAgICAgICAgdGhpcy5fdCA9IHRyYW5zZm9ybWVycztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgd2FybignWW91IG5lZWQgdG8gcHJvdmlkZSBhIGFycmF5IG9uIGBtdXRhdGUoKWAnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogVXBkYXRlcyBnbGlkZSB3aXRoIHNwZWNpZmllZCBzZXR0aW5ncy5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IHNldHRpbmdzXHJcbiAgICAgICAqIEByZXR1cm4ge0dsaWRlfVxyXG4gICAgICAgKi9cclxuXHJcbiAgICB9LCB7XHJcbiAgICAgIGtleTogJ3VwZGF0ZScsXHJcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoKSB7XHJcbiAgICAgICAgdmFyIHNldHRpbmdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IG1lcmdlT3B0aW9ucyh0aGlzLnNldHRpbmdzLCBzZXR0aW5ncyk7XHJcblxyXG4gICAgICAgIGlmIChzZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eSgnc3RhcnRBdCcpKSB7XHJcbiAgICAgICAgICB0aGlzLmluZGV4ID0gc2V0dGluZ3Muc3RhcnRBdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2UuZW1pdCgndXBkYXRlJyk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQ2hhbmdlIHNsaWRlIHdpdGggc3BlY2lmaWVkIHBhdHRlcm4uIEEgcGF0dGVybiBtdXN0IGJlIGluIHRoZSBzcGVjaWFsIGZvcm1hdDpcclxuICAgICAgICogYD5gIC0gTW92ZSBvbmUgZm9yd2FyZFxyXG4gICAgICAgKiBgPGAgLSBNb3ZlIG9uZSBiYWNrd2FyZFxyXG4gICAgICAgKiBgPXtpfWAgLSBHbyB0byB7aX0gemVyby1iYXNlZCBzbGlkZSAoZXEuICc9MScsIHdpbGwgZ28gdG8gc2Vjb25kIHNsaWRlKVxyXG4gICAgICAgKiBgPj5gIC0gUmV3aW5kcyB0byBlbmQgKGxhc3Qgc2xpZGUpXHJcbiAgICAgICAqIGA8PGAgLSBSZXdpbmRzIHRvIHN0YXJ0IChmaXJzdCBzbGlkZSlcclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHBhdHRlcm5cclxuICAgICAgICogQHJldHVybiB7R2xpZGV9XHJcbiAgICAgICAqL1xyXG5cclxuICAgIH0sIHtcclxuICAgICAga2V5OiAnZ28nLFxyXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ28ocGF0dGVybikge1xyXG4gICAgICAgIHRoaXMuX2MuUnVuLm1ha2UocGF0dGVybik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogTW92ZSB0cmFjayBieSBzcGVjaWZpZWQgZGlzdGFuY2UuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkaXN0YW5jZVxyXG4gICAgICAgKiBAcmV0dXJuIHtHbGlkZX1cclxuICAgICAgICovXHJcblxyXG4gICAgfSwge1xyXG4gICAgICBrZXk6ICdtb3ZlJyxcclxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG1vdmUoZGlzdGFuY2UpIHtcclxuICAgICAgICB0aGlzLl9jLlRyYW5zaXRpb24uZGlzYWJsZSgpO1xyXG4gICAgICAgIHRoaXMuX2MuTW92ZS5tYWtlKGRpc3RhbmNlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBEZXN0cm95IGluc3RhbmNlIGFuZCByZXZlcnQgYWxsIGNoYW5nZXMgZG9uZSBieSB0aGlzLl9jLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtHbGlkZX1cclxuICAgICAgICovXHJcblxyXG4gICAgfSwge1xyXG4gICAgICBrZXk6ICdkZXN0cm95JyxcclxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy5fZS5lbWl0KCdkZXN0cm95Jyk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogU3RhcnQgaW5zdGFuY2UgYXV0b3BsYXlpbmcuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbnxOdW1iZXJ9IGludGVydmFsIFJ1biBhdXRvcGxheWluZyB3aXRoIHBhc3NlZCBpbnRlcnZhbCByZWdhcmRsZXNzIG9mIGBhdXRvcGxheWAgc2V0dGluZ3NcclxuICAgICAgICogQHJldHVybiB7R2xpZGV9XHJcbiAgICAgICAqL1xyXG5cclxuICAgIH0sIHtcclxuICAgICAga2V5OiAncGxheScsXHJcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBwbGF5KCkge1xyXG4gICAgICAgIHZhciBpbnRlcnZhbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XHJcblxyXG4gICAgICAgIGlmIChpbnRlcnZhbCkge1xyXG4gICAgICAgICAgdGhpcy5zZXR0aW5ncy5hdXRvcGxheSA9IGludGVydmFsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fZS5lbWl0KCdwbGF5Jyk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogU3RvcCBpbnN0YW5jZSBhdXRvcGxheWluZy5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7R2xpZGV9XHJcbiAgICAgICAqL1xyXG5cclxuICAgIH0sIHtcclxuICAgICAga2V5OiAncGF1c2UnLFxyXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcGF1c2UoKSB7XHJcbiAgICAgICAgdGhpcy5fZS5lbWl0KCdwYXVzZScpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgfVxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFNldHMgZ2xpZGUgaW50byBhIGlkbGUgc3RhdHVzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtHbGlkZX1cclxuICAgICAgICovXHJcblxyXG4gICAgfSwge1xyXG4gICAgICBrZXk6ICdkaXNhYmxlJyxcclxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2FibGUoKSB7XHJcbiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogU2V0cyBnbGlkZSBpbnRvIGEgYWN0aXZlIHN0YXR1cy5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7R2xpZGV9XHJcbiAgICAgICAqL1xyXG5cclxuICAgIH0sIHtcclxuICAgICAga2V5OiAnZW5hYmxlJyxcclxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGVuYWJsZSgpIHtcclxuICAgICAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQWRkcyBjdXV0b20gZXZlbnQgbGlzdGVuZXIgd2l0aCBoYW5kbGVyLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gIHtTdHJpbmd8QXJyYXl9IGV2ZW50XHJcbiAgICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBoYW5kbGVyXHJcbiAgICAgICAqIEByZXR1cm4ge0dsaWRlfVxyXG4gICAgICAgKi9cclxuXHJcbiAgICB9LCB7XHJcbiAgICAgIGtleTogJ29uJyxcclxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uKGV2ZW50LCBoYW5kbGVyKSB7XHJcbiAgICAgICAgdGhpcy5fZS5vbihldmVudCwgaGFuZGxlcik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQ2hlY2tzIGlmIGdsaWRlIGlzIGEgcHJlY2lzZWQgdHlwZS5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtICB7U3RyaW5nfSBuYW1lXHJcbiAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgICAqL1xyXG5cclxuICAgIH0sIHtcclxuICAgICAga2V5OiAnaXNUeXBlJyxcclxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzVHlwZShuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MudHlwZSA9PT0gbmFtZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEdldHMgdmFsdWUgb2YgdGhlIGNvcmUgb3B0aW9ucy5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAgICAgKi9cclxuXHJcbiAgICB9LCB7XHJcbiAgICAgIGtleTogJ3NldHRpbmdzJyxcclxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX287XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBTZXRzIHZhbHVlIG9mIHRoZSBjb3JlIG9wdGlvbnMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSAge09iamVjdH0gb1xyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgLFxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMShvKSB7XHJcbiAgICAgICAgaWYgKGlzT2JqZWN0KG8pKSB7XHJcbiAgICAgICAgICB0aGlzLl9vID0gbztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgd2FybignT3B0aW9ucyBtdXN0IGJlIGFuIGBvYmplY3RgIGluc3RhbmNlLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEdldHMgY3VycmVudCBpbmRleCBvZiB0aGUgc2xpZGVyLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICAgICAqL1xyXG5cclxuICAgIH0sIHtcclxuICAgICAga2V5OiAnc21tLmh0bWwnLFxyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFNldHMgY3VycmVudCBpbmRleCBhIHNsaWRlci5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAgICAgKi9cclxuICAgICAgLFxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMShpKSB7XHJcbiAgICAgICAgdGhpcy5faSA9IHRvSW50KGkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogR2V0cyB0eXBlIG5hbWUgb2YgdGhlIHNsaWRlci5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7U3RyaW5nfVxyXG4gICAgICAgKi9cclxuXHJcbiAgICB9LCB7XHJcbiAgICAgIGtleTogJ3R5cGUnLFxyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy50eXBlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogR2V0cyB2YWx1ZSBvZiB0aGUgaWRsZSBzdGF0dXMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgICAqL1xyXG5cclxuICAgIH0sIHtcclxuICAgICAga2V5OiAnZGlzYWJsZWQnLFxyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFNldHMgdmFsdWUgb2YgdGhlIGlkbGUgc3RhdHVzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAgICAgKi9cclxuICAgICAgLFxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMShzdGF0dXMpIHtcclxuICAgICAgICB0aGlzLl9kID0gISFzdGF0dXM7XHJcbiAgICAgIH1cclxuICAgIH1dKTtcclxuICAgIHJldHVybiBHbGlkZTtcclxuICB9KCk7XHJcblxyXG4gIGZ1bmN0aW9uIFJ1biAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xyXG4gICAgdmFyIFJ1biA9IHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEluaXRpYWxpemVzIGF1dG9ydW5uaW5nIG9mIHRoZSBnbGlkZS5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIG1vdW50OiBmdW5jdGlvbiBtb3VudCgpIHtcclxuICAgICAgICB0aGlzLl9vID0gZmFsc2U7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIE1ha2VzIGdsaWRlcyBydW5uaW5nIGJhc2VkIG9uIHRoZSBwYXNzZWQgbW92aW5nIHNjaGVtYS5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IG1vdmVcclxuICAgICAgICovXHJcbiAgICAgIG1ha2U6IGZ1bmN0aW9uIG1ha2UobW92ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgICAgIGlmICghR2xpZGUuZGlzYWJsZWQpIHtcclxuICAgICAgICAgIEdsaWRlLmRpc2FibGUoKTtcclxuXHJcbiAgICAgICAgICB0aGlzLm1vdmUgPSBtb3ZlO1xyXG5cclxuICAgICAgICAgIEV2ZW50cy5lbWl0KCdydW4uYmVmb3JlJywgdGhpcy5tb3ZlKTtcclxuXHJcbiAgICAgICAgICB0aGlzLmNhbGN1bGF0ZSgpO1xyXG5cclxuICAgICAgICAgIEV2ZW50cy5lbWl0KCdydW4nLCB0aGlzLm1vdmUpO1xyXG5cclxuICAgICAgICAgIENvbXBvbmVudHMuVHJhbnNpdGlvbi5hZnRlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5pc1N0YXJ0KCkpIHtcclxuICAgICAgICAgICAgICBFdmVudHMuZW1pdCgncnVuLnN0YXJ0JywgX3RoaXMubW92ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5pc0VuZCgpKSB7XHJcbiAgICAgICAgICAgICAgRXZlbnRzLmVtaXQoJ3J1bi5lbmQnLCBfdGhpcy5tb3ZlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKF90aGlzLmlzT2Zmc2V0KCc8JykgfHwgX3RoaXMuaXNPZmZzZXQoJz4nKSkge1xyXG4gICAgICAgICAgICAgIF90aGlzLl9vID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgIEV2ZW50cy5lbWl0KCdydW4ub2Zmc2V0JywgX3RoaXMubW92ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIEV2ZW50cy5lbWl0KCdydW4uYWZ0ZXInLCBfdGhpcy5tb3ZlKTtcclxuXHJcbiAgICAgICAgICAgIEdsaWRlLmVuYWJsZSgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBDYWxjdWxhdGVzIGN1cnJlbnQgaW5kZXggYmFzZWQgb24gZGVmaW5lZCBtb3ZlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgY2FsY3VsYXRlOiBmdW5jdGlvbiBjYWxjdWxhdGUoKSB7XHJcbiAgICAgICAgdmFyIG1vdmUgPSB0aGlzLm1vdmUsXHJcbiAgICAgICAgICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoO1xyXG4gICAgICAgIHZhciBzdGVwcyA9IG1vdmUuc3RlcHMsXHJcbiAgICAgICAgICAgIGRpcmVjdGlvbiA9IG1vdmUuZGlyZWN0aW9uO1xyXG5cclxuXHJcbiAgICAgICAgdmFyIGNvdW50YWJsZVN0ZXBzID0gaXNOdW1iZXIodG9JbnQoc3RlcHMpKSAmJiB0b0ludChzdGVwcykgIT09IDA7XHJcblxyXG4gICAgICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICBjYXNlICc+JzpcclxuICAgICAgICAgICAgaWYgKHN0ZXBzID09PSAnPicpIHtcclxuICAgICAgICAgICAgICBHbGlkZS5pbmRleCA9IGxlbmd0aDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzRW5kKCkpIHtcclxuICAgICAgICAgICAgICBpZiAoIShHbGlkZS5pc1R5cGUoJ3NsaWRlcicpICYmICFHbGlkZS5zZXR0aW5ncy5yZXdpbmQpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBHbGlkZS5pbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvdW50YWJsZVN0ZXBzKSB7XHJcbiAgICAgICAgICAgICAgR2xpZGUuaW5kZXggKz0gTWF0aC5taW4obGVuZ3RoIC0gR2xpZGUuaW5kZXgsIC10b0ludChzdGVwcykpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIEdsaWRlLmluZGV4Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgY2FzZSAnPCc6XHJcbiAgICAgICAgICAgIGlmIChzdGVwcyA9PT0gJzwnKSB7XHJcbiAgICAgICAgICAgICAgR2xpZGUuaW5kZXggPSAwO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNTdGFydCgpKSB7XHJcbiAgICAgICAgICAgICAgaWYgKCEoR2xpZGUuaXNUeXBlKCdzbGlkZXInKSAmJiAhR2xpZGUuc2V0dGluZ3MucmV3aW5kKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgR2xpZGUuaW5kZXggPSBsZW5ndGg7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvdW50YWJsZVN0ZXBzKSB7XHJcbiAgICAgICAgICAgICAgR2xpZGUuaW5kZXggLT0gTWF0aC5taW4oR2xpZGUuaW5kZXgsIHRvSW50KHN0ZXBzKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgR2xpZGUuaW5kZXgtLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlICc9JzpcclxuICAgICAgICAgICAgR2xpZGUuaW5kZXggPSBzdGVwcztcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgd2FybignSW52YWxpZCBkaXJlY3Rpb24gcGF0dGVybiBbJyArIGRpcmVjdGlvbiArIHN0ZXBzICsgJ10gaGFzIGJlZW4gdXNlZCcpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIENoZWNrcyBpZiB3ZSBhcmUgb24gdGhlIGZpcnN0IHNsaWRlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAgICAgKi9cclxuICAgICAgaXNTdGFydDogZnVuY3Rpb24gaXNTdGFydCgpIHtcclxuICAgICAgICByZXR1cm4gR2xpZGUuaW5kZXggPT09IDA7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIENoZWNrcyBpZiB3ZSBhcmUgb24gdGhlIGxhc3Qgc2xpZGUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgICAqL1xyXG4gICAgICBpc0VuZDogZnVuY3Rpb24gaXNFbmQoKSB7XHJcbiAgICAgICAgcmV0dXJuIEdsaWRlLmluZGV4ID09PSB0aGlzLmxlbmd0aDtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQ2hlY2tzIGlmIHdlIGFyZSBtYWtpbmcgYSBvZmZzZXQgcnVuLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGlyZWN0aW9uXHJcbiAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgICAqL1xyXG4gICAgICBpc09mZnNldDogZnVuY3Rpb24gaXNPZmZzZXQoZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX28gJiYgdGhpcy5tb3ZlLmRpcmVjdGlvbiA9PT0gZGlyZWN0aW9uO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGRlZmluZShSdW4sICdtb3ZlJywge1xyXG4gICAgICAvKipcclxuICAgICAgICogR2V0cyB2YWx1ZSBvZiB0aGUgbW92ZSBzY2hlbWEuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICAgICAqL1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogU2V0cyB2YWx1ZSBvZiB0aGUgbW92ZSBzY2hlbWEuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICAgICAqL1xyXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xyXG4gICAgICAgIHZhciBzdGVwID0gdmFsdWUuc3Vic3RyKDEpO1xyXG5cclxuICAgICAgICB0aGlzLl9tID0ge1xyXG4gICAgICAgICAgZGlyZWN0aW9uOiB2YWx1ZS5zdWJzdHIoMCwgMSksXHJcbiAgICAgICAgICBzdGVwczogc3RlcCA/IHRvSW50KHN0ZXApID8gdG9JbnQoc3RlcCkgOiBzdGVwIDogMFxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGRlZmluZShSdW4sICdsZW5ndGgnLCB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBHZXRzIHZhbHVlIG9mIHRoZSBydW5uaW5nIGRpc3RhbmNlIGJhc2VkXHJcbiAgICAgICAqIG9uIHplcm8taW5kZXhpbmcgbnVtYmVyIG9mIHNsaWRlcy5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAgICAgKi9cclxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgdmFyIHNldHRpbmdzID0gR2xpZGUuc2V0dGluZ3M7XHJcbiAgICAgICAgdmFyIGxlbmd0aCA9IENvbXBvbmVudHMuSHRtbC5zbGlkZXMubGVuZ3RoO1xyXG5cclxuICAgICAgICAvLyBJZiB0aGUgYGJvdW5kYCBvcHRpb24gaXMgYWNpdHZlLCBhIG1heGltdW0gcnVubmluZyBkaXN0YW5jZSBzaG91bGQgYmVcclxuICAgICAgICAvLyByZWR1Y2VkIGJ5IGBwZXJWaWV3YCBhbmQgYGZvY3VzQXRgIHNldHRpbmdzLiBSdW5uaW5nIGRpc3RhbmNlXHJcbiAgICAgICAgLy8gc2hvdWxkIGVuZCBiZWZvcmUgY3JlYXRpbmcgYW4gZW1wdHkgc3BhY2UgYWZ0ZXIgaW5zdGFuY2UuXHJcblxyXG4gICAgICAgIGlmIChHbGlkZS5pc1R5cGUoJ3NsaWRlcicpICYmIHNldHRpbmdzLmZvY3VzQXQgIT09ICdjZW50ZXInICYmIHNldHRpbmdzLmJvdW5kKSB7XHJcbiAgICAgICAgICByZXR1cm4gbGVuZ3RoIC0gMSAtICh0b0ludChzZXR0aW5ncy5wZXJWaWV3KSAtIDEpICsgdG9JbnQoc2V0dGluZ3MuZm9jdXNBdCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbGVuZ3RoIC0gMTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgZGVmaW5lKFJ1biwgJ29mZnNldCcsIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEdldHMgc3RhdHVzIG9mIHRoZSBvZmZzZXR0aW5nIGZsYWcuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgICAqL1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbztcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIFJ1bjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgYSBjdXJyZW50IHRpbWUuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gbm93KCkge1xyXG4gICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCB3aGVuIGludm9rZWQsIHdpbGwgb25seSBiZSB0cmlnZ2VyZWRcclxuICAgKiBhdCBtb3N0IG9uY2UgZHVyaW5nIGEgZ2l2ZW4gd2luZG93IG9mIHRpbWUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHdhaXRcclxuICAgKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnNcclxuICAgKiBAcmV0dXJuIHtGdW5jdGlvbn1cclxuICAgKlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2phc2hrZW5hcy91bmRlcnNjb3JlXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucykge1xyXG4gICAgdmFyIHRpbWVvdXQgPSB2b2lkIDAsXHJcbiAgICAgICAgY29udGV4dCA9IHZvaWQgMCxcclxuICAgICAgICBhcmdzID0gdm9pZCAwLFxyXG4gICAgICAgIHJlc3VsdCA9IHZvaWQgMDtcclxuICAgIHZhciBwcmV2aW91cyA9IDA7XHJcbiAgICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcclxuXHJcbiAgICB2YXIgbGF0ZXIgPSBmdW5jdGlvbiBsYXRlcigpIHtcclxuICAgICAgcHJldmlvdXMgPSBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlID8gMCA6IG5vdygpO1xyXG4gICAgICB0aW1lb3V0ID0gbnVsbDtcclxuICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcclxuICAgICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciB0aHJvdHRsZWQgPSBmdW5jdGlvbiB0aHJvdHRsZWQoKSB7XHJcbiAgICAgIHZhciBhdCA9IG5vdygpO1xyXG4gICAgICBpZiAoIXByZXZpb3VzICYmIG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UpIHByZXZpb3VzID0gYXQ7XHJcbiAgICAgIHZhciByZW1haW5pbmcgPSB3YWl0IC0gKGF0IC0gcHJldmlvdXMpO1xyXG4gICAgICBjb250ZXh0ID0gdGhpcztcclxuICAgICAgYXJncyA9IGFyZ3VtZW50cztcclxuICAgICAgaWYgKHJlbWFpbmluZyA8PSAwIHx8IHJlbWFpbmluZyA+IHdhaXQpIHtcclxuICAgICAgICBpZiAodGltZW91dCkge1xyXG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xyXG4gICAgICAgICAgdGltZW91dCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByZXZpb3VzID0gYXQ7XHJcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcclxuICAgICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcclxuICAgICAgfSBlbHNlIGlmICghdGltZW91dCAmJiBvcHRpb25zLnRyYWlsaW5nICE9PSBmYWxzZSkge1xyXG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCByZW1haW5pbmcpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHRocm90dGxlZC5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuICAgICAgcHJldmlvdXMgPSAwO1xyXG4gICAgICB0aW1lb3V0ID0gY29udGV4dCA9IGFyZ3MgPSBudWxsO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gdGhyb3R0bGVkO1xyXG4gIH1cclxuXHJcbiAgdmFyIE1BUkdJTl9UWVBFID0ge1xyXG4gICAgbHRyOiBbJ21hcmdpbkxlZnQnLCAnbWFyZ2luUmlnaHQnXSxcclxuICAgIHJ0bDogWydtYXJnaW5SaWdodCcsICdtYXJnaW5MZWZ0J11cclxuICB9O1xyXG5cclxuICBmdW5jdGlvbiBHYXBzIChHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKSB7XHJcbiAgICB2YXIgR2FwcyA9IHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEFwcGxpZXMgZ2FwcyBiZXR3ZWVuIHNsaWRlcy4gRmlyc3QgYW5kIGxhc3RcclxuICAgICAgICogc2xpZGVzIGRvIG5vdCByZWNlaXZlIGl0J3MgZWRnZSBtYXJnaW5zLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge0hUTUxDb2xsZWN0aW9ufSBzbGlkZXNcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIGFwcGx5OiBmdW5jdGlvbiBhcHBseShzbGlkZXMpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gc2xpZGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICB2YXIgc3R5bGUgPSBzbGlkZXNbaV0uc3R5bGU7XHJcbiAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gQ29tcG9uZW50cy5EaXJlY3Rpb24udmFsdWU7XHJcblxyXG4gICAgICAgICAgaWYgKGkgIT09IDApIHtcclxuICAgICAgICAgICAgc3R5bGVbTUFSR0lOX1RZUEVbZGlyZWN0aW9uXVswXV0gPSB0aGlzLnZhbHVlIC8gMiArICdweCc7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdHlsZVtNQVJHSU5fVFlQRVtkaXJlY3Rpb25dWzBdXSA9ICcnO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChpICE9PSBzbGlkZXMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICBzdHlsZVtNQVJHSU5fVFlQRVtkaXJlY3Rpb25dWzFdXSA9IHRoaXMudmFsdWUgLyAyICsgJ3B4JztcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN0eWxlW01BUkdJTl9UWVBFW2RpcmVjdGlvbl1bMV1dID0gJyc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBSZW1vdmVzIGdhcHMgZnJvbSB0aGUgc2xpZGVzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge0hUTUxDb2xsZWN0aW9ufSBzbGlkZXNcclxuICAgICAgICogQHJldHVybnMge1ZvaWR9XHJcbiAgICAgICovXHJcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKHNsaWRlcykge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzbGlkZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgIHZhciBzdHlsZSA9IHNsaWRlc1tpXS5zdHlsZTtcclxuXHJcbiAgICAgICAgICBzdHlsZS5tYXJnaW5MZWZ0ID0gJyc7XHJcbiAgICAgICAgICBzdHlsZS5tYXJnaW5SaWdodCA9ICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBkZWZpbmUoR2FwcywgJ3ZhbHVlJywge1xyXG4gICAgICAvKipcclxuICAgICAgICogR2V0cyB2YWx1ZSBvZiB0aGUgZ2FwLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxyXG4gICAgICAgKi9cclxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRvSW50KEdsaWRlLnNldHRpbmdzLmdhcCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGRlZmluZShHYXBzLCAnZ3JvdycsIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEdldHMgYWRkaXRpb25hbCBkaW1lbnRpb25zIHZhbHVlIGNhdXNlZCBieSBnYXBzLlxyXG4gICAgICAgKiBVc2VkIHRvIGluY3JlYXNlIHdpZHRoIG9mIHRoZSBzbGlkZXMgd3JhcHBlci5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybnMge051bWJlcn1cclxuICAgICAgICovXHJcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgIHJldHVybiBHYXBzLnZhbHVlICogKENvbXBvbmVudHMuU2l6ZXMubGVuZ3RoIC0gMSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGRlZmluZShHYXBzLCAncmVkdWN0b3InLCB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBHZXRzIHJlZHVjdGlvbiB2YWx1ZSBjYXVzZWQgYnkgZ2Fwcy5cclxuICAgICAgICogVXNlZCB0byBzdWJ0cmFjdCB3aWR0aCBvZiB0aGUgc2xpZGVzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxyXG4gICAgICAgKi9cclxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgdmFyIHBlclZpZXcgPSBHbGlkZS5zZXR0aW5ncy5wZXJWaWV3O1xyXG5cclxuICAgICAgICByZXR1cm4gR2Fwcy52YWx1ZSAqIChwZXJWaWV3IC0gMSkgLyBwZXJWaWV3O1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFwcGx5IGNhbGN1bGF0ZWQgZ2FwczpcclxuICAgICAqIC0gYWZ0ZXIgYnVpbGRpbmcsIHNvIHNsaWRlcyAoaW5jbHVkaW5nIGNsb25lcykgd2lsbCByZWNlaXZlIHByb3BlciBtYXJnaW5zXHJcbiAgICAgKiAtIG9uIHVwZGF0aW5nIHZpYSBBUEksIHRvIHJlY2FsY3VsYXRlIGdhcHMgd2l0aCBuZXcgb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oWydidWlsZC5hZnRlcicsICd1cGRhdGUnXSwgdGhyb3R0bGUoZnVuY3Rpb24gKCkge1xyXG4gICAgICBHYXBzLmFwcGx5KENvbXBvbmVudHMuSHRtbC53cmFwcGVyLmNoaWxkcmVuKTtcclxuICAgIH0sIDMwKSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgZ2FwczpcclxuICAgICAqIC0gb24gZGVzdHJveWluZyB0byBicmluZyBtYXJrdXAgdG8gaXRzIGluaXRhbCBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIEdhcHMucmVtb3ZlKENvbXBvbmVudHMuSHRtbC53cmFwcGVyLmNoaWxkcmVuKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBHYXBzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRmluZHMgc2libGluZ3Mgbm9kZXMgb2YgdGhlIHBhc3NlZCBub2RlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtICB7RWxlbWVudH0gbm9kZVxyXG4gICAqIEByZXR1cm4ge0FycmF5fVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHNpYmxpbmdzKG5vZGUpIHtcclxuICAgIGlmIChub2RlICYmIG5vZGUucGFyZW50Tm9kZSkge1xyXG4gICAgICB2YXIgbiA9IG5vZGUucGFyZW50Tm9kZS5maXJzdENoaWxkO1xyXG4gICAgICB2YXIgbWF0Y2hlZCA9IFtdO1xyXG5cclxuICAgICAgZm9yICg7IG47IG4gPSBuLm5leHRTaWJsaW5nKSB7XHJcbiAgICAgICAgaWYgKG4ubm9kZVR5cGUgPT09IDEgJiYgbiAhPT0gbm9kZSkge1xyXG4gICAgICAgICAgbWF0Y2hlZC5wdXNoKG4pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIG1hdGNoZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2tzIGlmIHBhc3NlZCBub2RlIGV4aXN0IGFuZCBpcyBhIHZhbGlkIGVsZW1lbnQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gIHtFbGVtZW50fSBub2RlXHJcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgKi9cclxuICBmdW5jdGlvbiBleGlzdChub2RlKSB7XHJcbiAgICBpZiAobm9kZSAmJiBub2RlIGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50KSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHZhciBUUkFDS19TRUxFQ1RPUiA9ICdbZGF0YS1nbGlkZS1lbD1cInRyYWNrXCJdJztcclxuXHJcbiAgZnVuY3Rpb24gSHRtbCAoR2xpZGUsIENvbXBvbmVudHMpIHtcclxuICAgIHZhciBIdG1sID0ge1xyXG4gICAgICAvKipcclxuICAgICAgICogU2V0dXAgc2xpZGVyIEhUTUwgbm9kZXMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7R2xpZGV9IGdsaWRlXHJcbiAgICAgICAqL1xyXG4gICAgICBtb3VudDogZnVuY3Rpb24gbW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5yb290ID0gR2xpZGUuc2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy50cmFjayA9IHRoaXMucm9vdC5xdWVyeVNlbGVjdG9yKFRSQUNLX1NFTEVDVE9SKTtcclxuICAgICAgICB0aGlzLnNsaWRlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMud3JhcHBlci5jaGlsZHJlbikuZmlsdGVyKGZ1bmN0aW9uIChzbGlkZSkge1xyXG4gICAgICAgICAgcmV0dXJuICFzbGlkZS5jbGFzc0xpc3QuY29udGFpbnMoR2xpZGUuc2V0dGluZ3MuY2xhc3Nlcy5jbG9uZVNsaWRlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBkZWZpbmUoSHRtbCwgJ3Jvb3QnLCB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBHZXRzIG5vZGUgb2YgdGhlIGdsaWRlIG1haW4gZWxlbWVudC5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAgICAgKi9cclxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIEh0bWwuX3I7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFNldHMgbm9kZSBvZiB0aGUgZ2xpZGUgbWFpbiBlbGVtZW50LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICAgICAqL1xyXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldChyKSB7XHJcbiAgICAgICAgaWYgKGlzU3RyaW5nKHIpKSB7XHJcbiAgICAgICAgICByID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChleGlzdChyKSkge1xyXG4gICAgICAgICAgSHRtbC5fciA9IHI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHdhcm4oJ1Jvb3QgZWxlbWVudCBtdXN0IGJlIGEgZXhpc3RpbmcgSHRtbCBub2RlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZWZpbmUoSHRtbCwgJ3RyYWNrJywge1xyXG4gICAgICAvKipcclxuICAgICAgICogR2V0cyBub2RlIG9mIHRoZSBnbGlkZSB0cmFjayB3aXRoIHNsaWRlcy5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAgICAgKi9cclxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIEh0bWwuX3Q7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFNldHMgbm9kZSBvZiB0aGUgZ2xpZGUgdHJhY2sgd2l0aCBzbGlkZXMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge09iamVjdH1cclxuICAgICAgICovXHJcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHQpIHtcclxuICAgICAgICBpZiAoZXhpc3QodCkpIHtcclxuICAgICAgICAgIEh0bWwuX3QgPSB0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB3YXJuKCdDb3VsZCBub3QgZmluZCB0cmFjayBlbGVtZW50LiBQbGVhc2UgdXNlICcgKyBUUkFDS19TRUxFQ1RPUiArICcgYXR0cmlidXRlLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgZGVmaW5lKEh0bWwsICd3cmFwcGVyJywge1xyXG4gICAgICAvKipcclxuICAgICAgICogR2V0cyBub2RlIG9mIHRoZSBzbGlkZXMgd3JhcHBlci5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAgICAgKi9cclxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIEh0bWwudHJhY2suY2hpbGRyZW5bMF07XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBIdG1sO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gUGVlayAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xyXG4gICAgdmFyIFBlZWsgPSB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBTZXR1cHMgaG93IG11Y2ggdG8gcGVlayBiYXNlZCBvbiBzZXR0aW5ncy5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIG1vdW50OiBmdW5jdGlvbiBtb3VudCgpIHtcclxuICAgICAgICB0aGlzLnZhbHVlID0gR2xpZGUuc2V0dGluZ3MucGVlaztcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBkZWZpbmUoUGVlaywgJ3ZhbHVlJywge1xyXG4gICAgICAvKipcclxuICAgICAgICogR2V0cyB2YWx1ZSBvZiB0aGUgcGVlay5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybnMge051bWJlcnxPYmplY3R9XHJcbiAgICAgICAqL1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICByZXR1cm4gUGVlay5fdjtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogU2V0cyB2YWx1ZSBvZiB0aGUgcGVlay5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtOdW1iZXJ8T2JqZWN0fSB2YWx1ZVxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcclxuICAgICAgICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XHJcbiAgICAgICAgICB2YWx1ZS5iZWZvcmUgPSB0b0ludCh2YWx1ZS5iZWZvcmUpO1xyXG4gICAgICAgICAgdmFsdWUuYWZ0ZXIgPSB0b0ludCh2YWx1ZS5hZnRlcik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHZhbHVlID0gdG9JbnQodmFsdWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgUGVlay5fdiA9IHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZWZpbmUoUGVlaywgJ3JlZHVjdG9yJywge1xyXG4gICAgICAvKipcclxuICAgICAgICogR2V0cyByZWR1Y3Rpb24gdmFsdWUgY2F1c2VkIGJ5IHBlZWsuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XHJcbiAgICAgICAqL1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBQZWVrLnZhbHVlO1xyXG4gICAgICAgIHZhciBwZXJWaWV3ID0gR2xpZGUuc2V0dGluZ3MucGVyVmlldztcclxuXHJcbiAgICAgICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xyXG4gICAgICAgICAgcmV0dXJuIHZhbHVlLmJlZm9yZSAvIHBlclZpZXcgKyB2YWx1ZS5hZnRlciAvIHBlclZpZXc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdmFsdWUgKiAyIC8gcGVyVmlldztcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWNhbGN1bGF0ZSBwZWVraW5nIHNpemVzIG9uOlxyXG4gICAgICogLSB3aGVuIHJlc2l6aW5nIHdpbmRvdyB0byB1cGRhdGUgdG8gcHJvcGVyIHBlcmNlbnRzXHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbihbJ3Jlc2l6ZScsICd1cGRhdGUnXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICBQZWVrLm1vdW50KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gUGVlaztcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIE1vdmUgKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcclxuICAgIHZhciBNb3ZlID0ge1xyXG4gICAgICAvKipcclxuICAgICAgICogQ29uc3RydWN0cyBtb3ZlIGNvbXBvbmVudC5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybnMge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBtb3VudDogZnVuY3Rpb24gbW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5fbyA9IDA7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIENhbGN1bGF0ZXMgYSBtb3ZlbWVudCB2YWx1ZSBiYXNlZCBvbiBwYXNzZWQgb2Zmc2V0IGFuZCBjdXJyZW50bHkgYWN0aXZlIGluZGV4LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG9mZnNldFxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgbWFrZTogZnVuY3Rpb24gbWFrZSgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgICAgICB2YXIgb2Zmc2V0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xyXG5cclxuICAgICAgICB0aGlzLm9mZnNldCA9IG9mZnNldDtcclxuXHJcbiAgICAgICAgRXZlbnRzLmVtaXQoJ21vdmUnLCB7XHJcbiAgICAgICAgICBtb3ZlbWVudDogdGhpcy52YWx1ZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBDb21wb25lbnRzLlRyYW5zaXRpb24uYWZ0ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgRXZlbnRzLmVtaXQoJ21vdmUuYWZ0ZXInLCB7XHJcbiAgICAgICAgICAgIG1vdmVtZW50OiBfdGhpcy52YWx1ZVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZGVmaW5lKE1vdmUsICdvZmZzZXQnLCB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBHZXRzIGFuIG9mZnNldCB2YWx1ZSB1c2VkIHRvIG1vZGlmeSBjdXJyZW50IHRyYW5zbGF0ZS5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAgICAgKi9cclxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIE1vdmUuX287XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFNldHMgYW4gb2Zmc2V0IHZhbHVlIHVzZWQgdG8gbW9kaWZ5IGN1cnJlbnQgdHJhbnNsYXRlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICAgICAqL1xyXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xyXG4gICAgICAgIE1vdmUuX28gPSAhaXNVbmRlZmluZWQodmFsdWUpID8gdG9JbnQodmFsdWUpIDogMDtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgZGVmaW5lKE1vdmUsICd0cmFuc2xhdGUnLCB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBHZXRzIGEgcmF3IG1vdmVtZW50IHZhbHVlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICAgICAqL1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICByZXR1cm4gQ29tcG9uZW50cy5TaXplcy5zbGlkZVdpZHRoICogR2xpZGUuc21tO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZWZpbmUoTW92ZSwgJ3ZhbHVlJywge1xyXG4gICAgICAvKipcclxuICAgICAgICogR2V0cyBhbiBhY3R1YWwgbW92ZW1lbnQgdmFsdWUgY29ycmVjdGVkIGJ5IG9mZnNldC5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAgICAgKi9cclxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMub2Zmc2V0O1xyXG4gICAgICAgIHZhciB0cmFuc2xhdGUgPSB0aGlzLnRyYW5zbGF0ZTtcclxuXHJcbiAgICAgICAgaWYgKENvbXBvbmVudHMuRGlyZWN0aW9uLmlzKCdydGwnKSkge1xyXG4gICAgICAgICAgcmV0dXJuIHRyYW5zbGF0ZSArIG9mZnNldDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0cmFuc2xhdGUgLSBvZmZzZXQ7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWFrZSBtb3ZlbWVudCB0byBwcm9wZXIgc2xpZGUgb246XHJcbiAgICAgKiAtIGJlZm9yZSBidWlsZCwgc28gZ2xpZGUgd2lsbCBzdGFydCBhdCBgc3RhcnRBdGAgaW5kZXhcclxuICAgICAqIC0gb24gZWFjaCBzdGFuZGFyZCBydW4gdG8gbW92ZSB0byBuZXdseSBjYWxjdWxhdGVkIGluZGV4XHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbihbJ2J1aWxkLmJlZm9yZScsICdydW4nXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICBNb3ZlLm1ha2UoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBNb3ZlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gU2l6ZXMgKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcclxuICAgIHZhciBTaXplcyA9IHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIFNldHVwcyBkaW1lbnRpb25zIG9mIHNsaWRlcy5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIHNldHVwU2xpZGVzOiBmdW5jdGlvbiBzZXR1cFNsaWRlcygpIHtcclxuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLnNsaWRlV2lkdGggKyAncHgnO1xyXG4gICAgICAgIHZhciBzbGlkZXMgPSBDb21wb25lbnRzLkh0bWwuc2xpZGVzO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgc2xpZGVzW2ldLnN0eWxlLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBTZXR1cHMgZGltZW50aW9ucyBvZiBzbGlkZXMgd3JhcHBlci5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIHNldHVwV3JhcHBlcjogZnVuY3Rpb24gc2V0dXBXcmFwcGVyKGRpbWVudGlvbikge1xyXG4gICAgICAgIENvbXBvbmVudHMuSHRtbC53cmFwcGVyLnN0eWxlLndpZHRoID0gdGhpcy53cmFwcGVyU2l6ZSArICdweCc7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFJlbW92ZXMgYXBwbGllZCBzdHlsZXMgZnJvbSBIVE1MIGVsZW1lbnRzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJucyB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xyXG4gICAgICAgIHZhciBzbGlkZXMgPSBDb21wb25lbnRzLkh0bWwuc2xpZGVzO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgc2xpZGVzW2ldLnN0eWxlLndpZHRoID0gJyc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBDb21wb25lbnRzLkh0bWwud3JhcHBlci5zdHlsZS53aWR0aCA9ICcnO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGRlZmluZShTaXplcywgJ2xlbmd0aCcsIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEdldHMgY291bnQgbnVtYmVyIG9mIHRoZSBzbGlkZXMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgICAgICovXHJcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgIHJldHVybiBDb21wb25lbnRzLkh0bWwuc2xpZGVzLmxlbmd0aDtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgZGVmaW5lKFNpemVzLCAnd2lkdGgnLCB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBHZXRzIHdpZHRoIHZhbHVlIG9mIHRoZSBnbGlkZS5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAgICAgKi9cclxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIENvbXBvbmVudHMuSHRtbC5yb290Lm9mZnNldFdpZHRoO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZWZpbmUoU2l6ZXMsICd3cmFwcGVyU2l6ZScsIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEdldHMgc2l6ZSBvZiB0aGUgc2xpZGVzIHdyYXBwZXIuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgICAgICovXHJcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgIHJldHVybiBTaXplcy5zbGlkZVdpZHRoICogU2l6ZXMubGVuZ3RoICsgQ29tcG9uZW50cy5HYXBzLmdyb3cgKyBDb21wb25lbnRzLkNsb25lcy5ncm93O1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZWZpbmUoU2l6ZXMsICdzbGlkZVdpZHRoJywge1xyXG4gICAgICAvKipcclxuICAgICAgICogR2V0cyB3aWR0aCB2YWx1ZSBvZiB0aGUgc2luZ2xlIHNsaWRlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICAgICAqL1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICByZXR1cm4gU2l6ZXMud2lkdGggLyBHbGlkZS5zZXR0aW5ncy5wZXJWaWV3IC0gQ29tcG9uZW50cy5QZWVrLnJlZHVjdG9yIC0gQ29tcG9uZW50cy5HYXBzLnJlZHVjdG9yO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFwcGx5IGNhbGN1bGF0ZWQgZ2xpZGUncyBkaW1lbnNpb25zOlxyXG4gICAgICogLSBiZWZvcmUgYnVpbGRpbmcsIHNvIG90aGVyIGRpbWVudGlvbnMgKGUuZy4gdHJhbnNsYXRlKSB3aWxsIGJlIGNhbGN1bGF0ZWQgcHJvcGVydGx5XHJcbiAgICAgKiAtIHdoZW4gcmVzaXppbmcgd2luZG93IHRvIHJlY2FsY3VsYXRlIHNpbGRlcyBkaW1lbnNpb25zXHJcbiAgICAgKiAtIG9uIHVwZGF0aW5nIHZpYSBBUEksIHRvIGNhbGN1bGF0ZSBkaW1lbnNpb25zIGJhc2VkIG9uIG5ldyBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbihbJ2J1aWxkLmJlZm9yZScsICdyZXNpemUnLCAndXBkYXRlJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgU2l6ZXMuc2V0dXBTbGlkZXMoKTtcclxuICAgICAgU2l6ZXMuc2V0dXBXcmFwcGVyKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBjYWxjdWxhdGVkIGdsaWRlJ3MgZGltZW5zaW9uczpcclxuICAgICAqIC0gb24gZGVzdG90aW5nIHRvIGJyaW5nIG1hcmt1cCB0byBpdHMgaW5pdGFsIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbignZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgU2l6ZXMucmVtb3ZlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gU2l6ZXM7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBCdWlsZCAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xyXG4gICAgdmFyIEJ1aWxkID0ge1xyXG4gICAgICAvKipcclxuICAgICAgICogSW5pdCBnbGlkZSBidWlsZGluZy4gQWRkcyBjbGFzc2VzLCBzZXRzXHJcbiAgICAgICAqIGRpbWVuc2lvbnMgYW5kIHNldHVwcyBpbml0aWFsIHN0YXRlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgbW91bnQ6IGZ1bmN0aW9uIG1vdW50KCkge1xyXG4gICAgICAgIEV2ZW50cy5lbWl0KCdidWlsZC5iZWZvcmUnKTtcclxuXHJcbiAgICAgICAgdGhpcy50eXBlQ2xhc3MoKTtcclxuICAgICAgICB0aGlzLmFjdGl2ZUNsYXNzKCk7XHJcblxyXG4gICAgICAgIEV2ZW50cy5lbWl0KCdidWlsZC5hZnRlcicpO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBBZGRzIGB0eXBlYCBjbGFzcyB0byB0aGUgZ2xpZGUgZWxlbWVudC5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIHR5cGVDbGFzczogZnVuY3Rpb24gdHlwZUNsYXNzKCkge1xyXG4gICAgICAgIENvbXBvbmVudHMuSHRtbC5yb290LmNsYXNzTGlzdC5hZGQoR2xpZGUuc2V0dGluZ3MuY2xhc3Nlc1tHbGlkZS5zZXR0aW5ncy50eXBlXSk7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFNldHMgYWN0aXZlIGNsYXNzIHRvIGN1cnJlbnQgc2xpZGUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBhY3RpdmVDbGFzczogZnVuY3Rpb24gYWN0aXZlQ2xhc3MoKSB7XHJcbiAgICAgICAgdmFyIGNsYXNzZXMgPSBHbGlkZS5zZXR0aW5ncy5jbGFzc2VzO1xyXG4gICAgICAgIHZhciBzbGlkZSA9IENvbXBvbmVudHMuSHRtbC5zbGlkZXNbR2xpZGUuc21tXTtcclxuXHJcbiAgICAgICAgaWYgKHNsaWRlKSB7XHJcbiAgICAgICAgICBzbGlkZS5jbGFzc0xpc3QuYWRkKGNsYXNzZXMuYWN0aXZlU2xpZGUpO1xyXG5cclxuICAgICAgICAgIHNpYmxpbmdzKHNsaWRlKS5mb3JFYWNoKGZ1bmN0aW9uIChzaWJsaW5nKSB7XHJcbiAgICAgICAgICAgIHNpYmxpbmcuY2xhc3NMaXN0LnJlbW92ZShjbGFzc2VzLmFjdGl2ZVNsaWRlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogUmVtb3ZlcyBIVE1MIGNsYXNzZXMgYXBwbGllZCBhdCBidWlsZGluZy5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIHJlbW92ZUNsYXNzZXM6IGZ1bmN0aW9uIHJlbW92ZUNsYXNzZXMoKSB7XHJcbiAgICAgICAgdmFyIGNsYXNzZXMgPSBHbGlkZS5zZXR0aW5ncy5jbGFzc2VzO1xyXG5cclxuICAgICAgICBDb21wb25lbnRzLkh0bWwucm9vdC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXNbR2xpZGUuc2V0dGluZ3MudHlwZV0pO1xyXG5cclxuICAgICAgICBDb21wb25lbnRzLkh0bWwuc2xpZGVzLmZvckVhY2goZnVuY3Rpb24gKHNpYmxpbmcpIHtcclxuICAgICAgICAgIHNpYmxpbmcuY2xhc3NMaXN0LnJlbW92ZShjbGFzc2VzLmFjdGl2ZVNsaWRlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENsZWFyIGJ1aWxkaW5nIGNsYXNzZXM6XHJcbiAgICAgKiAtIG9uIGRlc3Ryb3lpbmcgdG8gYnJpbmcgSFRNTCB0byBpdHMgaW5pdGlhbCBzdGF0ZVxyXG4gICAgICogLSBvbiB1cGRhdGluZyB0byByZW1vdmUgY2xhc3NlcyBiZWZvcmUgcmVtb3VudGluZyBjb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKFsnZGVzdHJveScsICd1cGRhdGUnXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICBCdWlsZC5yZW1vdmVDbGFzc2VzKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW91bnQgY29tcG9uZW50OlxyXG4gICAgICogLSBvbiByZXNpemluZyBvZiB0aGUgd2luZG93IHRvIGNhbGN1bGF0ZSBuZXcgZGltZW50aW9uc1xyXG4gICAgICogLSBvbiB1cGRhdGluZyBzZXR0aW5ncyB2aWEgQVBJXHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbihbJ3Jlc2l6ZScsICd1cGRhdGUnXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICBCdWlsZC5tb3VudCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTd2FwIGFjdGl2ZSBjbGFzcyBvZiBjdXJyZW50IHNsaWRlOlxyXG4gICAgICogLSBhZnRlciBlYWNoIG1vdmUgdG8gdGhlIG5ldyBpbmRleFxyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oJ21vdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIEJ1aWxkLmFjdGl2ZUNsYXNzKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gQnVpbGQ7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBDbG9uZXMgKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcclxuICAgIHZhciBDbG9uZXMgPSB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBDcmVhdGUgcGF0dGVybiBtYXAgYW5kIGNvbGxlY3Qgc2xpZGVzIHRvIGJlIGNsb25lZC5cclxuICAgICAgICovXHJcbiAgICAgIG1vdW50OiBmdW5jdGlvbiBtb3VudCgpIHtcclxuICAgICAgICB0aGlzLml0ZW1zID0gW107XHJcblxyXG4gICAgICAgIGlmIChHbGlkZS5pc1R5cGUoJ2Nhcm91c2VsJykpIHtcclxuICAgICAgICAgIHRoaXMuaXRlbXMgPSB0aGlzLmNvbGxlY3QoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIENvbGxlY3QgY2xvbmVzIHdpdGggcGF0dGVybi5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIGNvbGxlY3Q6IGZ1bmN0aW9uIGNvbGxlY3QoKSB7XHJcbiAgICAgICAgdmFyIGl0ZW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcclxuICAgICAgICB2YXIgc2xpZGVzID0gQ29tcG9uZW50cy5IdG1sLnNsaWRlcztcclxuICAgICAgICB2YXIgX0dsaWRlJHNldHRpbmdzID0gR2xpZGUuc2V0dGluZ3MsXHJcbiAgICAgICAgICAgIHBlclZpZXcgPSBfR2xpZGUkc2V0dGluZ3MucGVyVmlldyxcclxuICAgICAgICAgICAgY2xhc3NlcyA9IF9HbGlkZSRzZXR0aW5ncy5jbGFzc2VzO1xyXG5cclxuXHJcbiAgICAgICAgdmFyIHBlZWtJbmNyZW1lbnRlciA9ICshIUdsaWRlLnNldHRpbmdzLnBlZWs7XHJcbiAgICAgICAgdmFyIHBhcnQgPSBwZXJWaWV3ICsgcGVla0luY3JlbWVudGVyO1xyXG4gICAgICAgIHZhciBzdGFydCA9IHNsaWRlcy5zbGljZSgwLCBwYXJ0KTtcclxuICAgICAgICB2YXIgZW5kID0gc2xpZGVzLnNsaWNlKC1wYXJ0KTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgciA9IDA7IHIgPCBNYXRoLm1heCgxLCBNYXRoLmZsb29yKHBlclZpZXcgLyBzbGlkZXMubGVuZ3RoKSk7IHIrKykge1xyXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFydC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgY2xvbmUgPSBzdGFydFtpXS5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICBjbG9uZS5jbGFzc0xpc3QuYWRkKGNsYXNzZXMuY2xvbmVTbGlkZSk7XHJcblxyXG4gICAgICAgICAgICBpdGVtcy5wdXNoKGNsb25lKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgZW5kLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgX2Nsb25lID0gZW5kW19pXS5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICBfY2xvbmUuY2xhc3NMaXN0LmFkZChjbGFzc2VzLmNsb25lU2xpZGUpO1xyXG5cclxuICAgICAgICAgICAgaXRlbXMudW5zaGlmdChfY2xvbmUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGl0ZW1zO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBBcHBlbmQgY2xvbmVkIHNsaWRlcyB3aXRoIGdlbmVyYXRlZCBwYXR0ZXJuLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgYXBwZW5kOiBmdW5jdGlvbiBhcHBlbmQoKSB7XHJcbiAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5pdGVtcztcclxuICAgICAgICB2YXIgX0NvbXBvbmVudHMkSHRtbCA9IENvbXBvbmVudHMuSHRtbCxcclxuICAgICAgICAgICAgd3JhcHBlciA9IF9Db21wb25lbnRzJEh0bWwud3JhcHBlcixcclxuICAgICAgICAgICAgc2xpZGVzID0gX0NvbXBvbmVudHMkSHRtbC5zbGlkZXM7XHJcblxyXG5cclxuICAgICAgICB2YXIgaGFsZiA9IE1hdGguZmxvb3IoaXRlbXMubGVuZ3RoIC8gMik7XHJcbiAgICAgICAgdmFyIHByZXBlbmQgPSBpdGVtcy5zbGljZSgwLCBoYWxmKS5yZXZlcnNlKCk7XHJcbiAgICAgICAgdmFyIGFwcGVuZCA9IGl0ZW1zLnNsaWNlKGhhbGYsIGl0ZW1zLmxlbmd0aCk7XHJcbiAgICAgICAgdmFyIHdpZHRoID0gQ29tcG9uZW50cy5TaXplcy5zbGlkZVdpZHRoICsgJ3B4JztcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcHBlbmQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoYXBwZW5kW2ldKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IHByZXBlbmQubGVuZ3RoOyBfaTIrKykge1xyXG4gICAgICAgICAgd3JhcHBlci5pbnNlcnRCZWZvcmUocHJlcGVuZFtfaTJdLCBzbGlkZXNbMF0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICh2YXIgX2kzID0gMDsgX2kzIDwgaXRlbXMubGVuZ3RoOyBfaTMrKykge1xyXG4gICAgICAgICAgaXRlbXNbX2kzXS5zdHlsZS53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogUmVtb3ZlIGFsbCBjbG9uZWQgc2xpZGVzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XHJcbiAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5pdGVtcztcclxuXHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIENvbXBvbmVudHMuSHRtbC53cmFwcGVyLnJlbW92ZUNoaWxkKGl0ZW1zW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZGVmaW5lKENsb25lcywgJ2dyb3cnLCB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBHZXRzIGFkZGl0aW9uYWwgZGltZW50aW9ucyB2YWx1ZSBjYXVzZWQgYnkgY2xvbmVzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICAgICAqL1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICByZXR1cm4gKENvbXBvbmVudHMuU2l6ZXMuc2xpZGVXaWR0aCArIENvbXBvbmVudHMuR2Fwcy52YWx1ZSkgKiBDbG9uZXMuaXRlbXMubGVuZ3RoO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFwcGVuZCBhZGRpdGlvbmFsIHNsaWRlJ3MgY2xvbmVzOlxyXG4gICAgICogLSB3aGlsZSBnbGlkZSdzIHR5cGUgaXMgYGNhcm91c2VsYFxyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oJ3VwZGF0ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgQ2xvbmVzLnJlbW92ZSgpO1xyXG4gICAgICBDbG9uZXMubW91bnQoKTtcclxuICAgICAgQ2xvbmVzLmFwcGVuZCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBlbmQgYWRkaXRpb25hbCBzbGlkZSdzIGNsb25lczpcclxuICAgICAqIC0gd2hpbGUgZ2xpZGUncyB0eXBlIGlzIGBjYXJvdXNlbGBcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKCdidWlsZC5iZWZvcmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmIChHbGlkZS5pc1R5cGUoJ2Nhcm91c2VsJykpIHtcclxuICAgICAgICBDbG9uZXMuYXBwZW5kKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGNsb25lcyBIVE1MRWxlbWVudHM6XHJcbiAgICAgKiAtIG9uIGRlc3Ryb3lpbmcsIHRvIGJyaW5nIEhUTUwgdG8gaXRzIGluaXRpYWwgc3RhdGVcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBDbG9uZXMucmVtb3ZlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gQ2xvbmVzO1xyXG4gIH1cclxuXHJcbiAgdmFyIEV2ZW50c0JpbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0IGEgRXZlbnRzQmluZGVyIGluc3RhbmNlLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBFdmVudHNCaW5kZXIoKSB7XHJcbiAgICAgIHZhciBsaXN0ZW5lcnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xyXG4gICAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBFdmVudHNCaW5kZXIpO1xyXG5cclxuICAgICAgdGhpcy5saXN0ZW5lcnMgPSBsaXN0ZW5lcnM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIGV2ZW50cyBsaXN0ZW5lcnMgdG8gYXJyb3dzIEhUTUwgZWxlbWVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfEFycmF5fSBldmVudHNcclxuICAgICAqIEBwYXJhbSAge0VsZW1lbnR8V2luZG93fERvY3VtZW50fSBlbFxyXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGNsb3N1cmVcclxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW58T2JqZWN0fSBjYXB0dXJlXHJcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICovXHJcblxyXG5cclxuICAgIGNyZWF0ZUNsYXNzKEV2ZW50c0JpbmRlciwgW3tcclxuICAgICAga2V5OiAnb24nLFxyXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gb24oZXZlbnRzLCBlbCwgY2xvc3VyZSkge1xyXG4gICAgICAgIHZhciBjYXB0dXJlID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKGlzU3RyaW5nKGV2ZW50cykpIHtcclxuICAgICAgICAgIGV2ZW50cyA9IFtldmVudHNdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIHRoaXMubGlzdGVuZXJzW2V2ZW50c1tpXV0gPSBjbG9zdXJlO1xyXG5cclxuICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzW2ldLCB0aGlzLmxpc3RlbmVyc1tldmVudHNbaV1dLCBjYXB0dXJlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBSZW1vdmVzIGV2ZW50IGxpc3RlbmVycyBmcm9tIGFycm93cyBIVE1MIGVsZW1lbnRzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gIHtTdHJpbmd8QXJyYXl9IGV2ZW50c1xyXG4gICAgICAgKiBAcGFyYW0gIHtFbGVtZW50fFdpbmRvd3xEb2N1bWVudH0gZWxcclxuICAgICAgICogQHBhcmFtICB7Qm9vbGVhbnxPYmplY3R9IGNhcHR1cmVcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcblxyXG4gICAgfSwge1xyXG4gICAgICBrZXk6ICdvZmYnLFxyXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gb2ZmKGV2ZW50cywgZWwpIHtcclxuICAgICAgICB2YXIgY2FwdHVyZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XHJcblxyXG4gICAgICAgIGlmIChpc1N0cmluZyhldmVudHMpKSB7XHJcbiAgICAgICAgICBldmVudHMgPSBbZXZlbnRzXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50c1tpXSwgdGhpcy5saXN0ZW5lcnNbZXZlbnRzW2ldXSwgY2FwdHVyZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogRGVzdHJveSBjb2xsZWN0ZWQgbGlzdGVuZXJzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJucyB7Vm9pZH1cclxuICAgICAgICovXHJcblxyXG4gICAgfSwge1xyXG4gICAgICBrZXk6ICdkZXN0cm95JyxcclxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMubGlzdGVuZXJzO1xyXG4gICAgICB9XHJcbiAgICB9XSk7XHJcbiAgICByZXR1cm4gRXZlbnRzQmluZGVyO1xyXG4gIH0oKTtcclxuXHJcbiAgZnVuY3Rpb24gUmVzaXplIChHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKSB7XHJcbiAgICAvKipcclxuICAgICAqIEluc3RhbmNlIG9mIHRoZSBiaW5kZXIgZm9yIERPTSBFdmVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge0V2ZW50c0JpbmRlcn1cclxuICAgICAqL1xyXG4gICAgdmFyIEJpbmRlciA9IG5ldyBFdmVudHNCaW5kZXIoKTtcclxuXHJcbiAgICB2YXIgUmVzaXplID0ge1xyXG4gICAgICAvKipcclxuICAgICAgICogSW5pdGlhbGl6ZXMgd2luZG93IGJpbmRpbmdzLlxyXG4gICAgICAgKi9cclxuICAgICAgbW91bnQ6IGZ1bmN0aW9uIG1vdW50KCkge1xyXG4gICAgICAgIHRoaXMuYmluZCgpO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBCaW5kcyBgcmV6c2l6ZWAgbGlzdGVuZXIgdG8gdGhlIHdpbmRvdy5cclxuICAgICAgICogSXQncyBhIGNvc3RseSBldmVudCwgc28gd2UgYXJlIGRlYm91bmNpbmcgaXQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBiaW5kOiBmdW5jdGlvbiBiaW5kKCkge1xyXG4gICAgICAgIEJpbmRlci5vbigncmVzaXplJywgd2luZG93LCB0aHJvdHRsZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBFdmVudHMuZW1pdCgncmVzaXplJyk7XHJcbiAgICAgICAgfSwgR2xpZGUuc2V0dGluZ3MudGhyb3R0bGUpKTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogVW5iaW5kcyBsaXN0ZW5lcnMgZnJvbSB0aGUgd2luZG93LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgdW5iaW5kOiBmdW5jdGlvbiB1bmJpbmQoKSB7XHJcbiAgICAgICAgQmluZGVyLm9mZigncmVzaXplJywgd2luZG93KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBiaW5kaW5ncyBmcm9tIHdpbmRvdzpcclxuICAgICAqIC0gb24gZGVzdHJveWluZywgdG8gcmVtb3ZlIGFkZGVkIEV2ZW50TGlzdGVuZXJcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBSZXNpemUudW5iaW5kKCk7XHJcbiAgICAgIEJpbmRlci5kZXN0cm95KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gUmVzaXplO1xyXG4gIH1cclxuXHJcbiAgdmFyIFZBTElEX0RJUkVDVElPTlMgPSBbJ2x0cicsICdydGwnXTtcclxuICB2YXIgRkxJUEVEX01PVkVNRU5UUyA9IHtcclxuICAgICc+JzogJzwnLFxyXG4gICAgJzwnOiAnPicsXHJcbiAgICAnPSc6ICc9J1xyXG4gIH07XHJcblxyXG4gIGZ1bmN0aW9uIERpcmVjdGlvbiAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xyXG4gICAgdmFyIERpcmVjdGlvbiA9IHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIFNldHVwcyBnYXAgdmFsdWUgYmFzZWQgb24gc2V0dGluZ3MuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBtb3VudDogZnVuY3Rpb24gbW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IEdsaWRlLnNldHRpbmdzLmRpcmVjdGlvbjtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogUmVzb2x2ZXMgcGF0dGVybiBiYXNlZCBvbiBkaXJlY3Rpb24gdmFsdWVcclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHBhdHRlcm5cclxuICAgICAgICogQHJldHVybnMge1N0cmluZ31cclxuICAgICAgICovXHJcbiAgICAgIHJlc29sdmU6IGZ1bmN0aW9uIHJlc29sdmUocGF0dGVybikge1xyXG4gICAgICAgIHZhciB0b2tlbiA9IHBhdHRlcm4uc2xpY2UoMCwgMSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzKCdydGwnKSkge1xyXG4gICAgICAgICAgcmV0dXJuIHBhdHRlcm4uc3BsaXQodG9rZW4pLmpvaW4oRkxJUEVEX01PVkVNRU5UU1t0b2tlbl0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHBhdHRlcm47XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIENoZWNrcyB2YWx1ZSBvZiBkaXJlY3Rpb24gbW9kZS5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGRpcmVjdGlvblxyXG4gICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAgICAgICovXHJcbiAgICAgIGlzOiBmdW5jdGlvbiBpcyhkaXJlY3Rpb24pIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZSA9PT0gZGlyZWN0aW9uO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBBcHBsaWVzIGRpcmVjdGlvbiBjbGFzcyB0byB0aGUgcm9vdCBIVE1MIGVsZW1lbnQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBhZGRDbGFzczogZnVuY3Rpb24gYWRkQ2xhc3MoKSB7XHJcbiAgICAgICAgQ29tcG9uZW50cy5IdG1sLnJvb3QuY2xhc3NMaXN0LmFkZChHbGlkZS5zZXR0aW5ncy5jbGFzc2VzLmRpcmVjdGlvblt0aGlzLnZhbHVlXSk7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFJlbW92ZXMgZGlyZWN0aW9uIGNsYXNzIGZyb20gdGhlIHJvb3QgSFRNTCBlbGVtZW50LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uIHJlbW92ZUNsYXNzKCkge1xyXG4gICAgICAgIENvbXBvbmVudHMuSHRtbC5yb290LmNsYXNzTGlzdC5yZW1vdmUoR2xpZGUuc2V0dGluZ3MuY2xhc3Nlcy5kaXJlY3Rpb25bdGhpcy52YWx1ZV0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGRlZmluZShEaXJlY3Rpb24sICd2YWx1ZScsIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEdldHMgdmFsdWUgb2YgdGhlIGRpcmVjdGlvbi5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybnMge051bWJlcn1cclxuICAgICAgICovXHJcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgIHJldHVybiBEaXJlY3Rpb24uX3Y7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFNldHMgdmFsdWUgb2YgdGhlIGRpcmVjdGlvbi5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xyXG4gICAgICAgIGlmIChWQUxJRF9ESVJFQ1RJT05TLmluZGV4T2YodmFsdWUpID4gLTEpIHtcclxuICAgICAgICAgIERpcmVjdGlvbi5fdiA9IHZhbHVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB3YXJuKCdEaXJlY3Rpb24gdmFsdWUgbXVzdCBiZSBgbHRyYCBvciBgcnRsYCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhciBkaXJlY3Rpb24gY2xhc3M6XHJcbiAgICAgKiAtIG9uIGRlc3Ryb3kgdG8gYnJpbmcgSFRNTCB0byBpdHMgaW5pdGlhbCBzdGF0ZVxyXG4gICAgICogLSBvbiB1cGRhdGUgdG8gcmVtb3ZlIGNsYXNzIGJlZm9yZSByZWFwcGxpbmcgYmVsbG93XHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbihbJ2Rlc3Ryb3knLCAndXBkYXRlJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgRGlyZWN0aW9uLnJlbW92ZUNsYXNzKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW91bnQgY29tcG9uZW50OlxyXG4gICAgICogLSBvbiB1cGRhdGUgdG8gcmVmbGVjdCBjaGFuZ2VzIGluIGRpcmVjdGlvbiB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oJ3VwZGF0ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgRGlyZWN0aW9uLm1vdW50KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFwcGx5IGRpcmVjdGlvbiBjbGFzczpcclxuICAgICAqIC0gYmVmb3JlIGJ1aWxkaW5nIHRvIGFwcGx5IGNsYXNzIGZvciB0aGUgZmlyc3QgdGltZVxyXG4gICAgICogLSBvbiB1cGRhdGluZyB0byByZWFwcGx5IGRpcmVjdGlvbiBjbGFzcyB0aGF0IG1heSBjaGFuZ2VkXHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbihbJ2J1aWxkLmJlZm9yZScsICd1cGRhdGUnXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICBEaXJlY3Rpb24uYWRkQ2xhc3MoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBEaXJlY3Rpb247XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWZsZWN0cyB2YWx1ZSBvZiBnbGlkZSBtb3ZlbWVudC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSAge09iamVjdH0gR2xpZGVcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IENvbXBvbmVudHNcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gUnRsIChHbGlkZSwgQ29tcG9uZW50cykge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIE5lZ2F0ZXMgdGhlIHBhc3NlZCB0cmFuc2xhdGUgaWYgZ2xpZGUgaXMgaW4gUlRMIG9wdGlvbi5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtICB7TnVtYmVyfSB0cmFuc2xhdGVcclxuICAgICAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAgICAgKi9cclxuICAgICAgbW9kaWZ5OiBmdW5jdGlvbiBtb2RpZnkodHJhbnNsYXRlKSB7XHJcbiAgICAgICAgaWYgKENvbXBvbmVudHMuRGlyZWN0aW9uLmlzKCdydGwnKSkge1xyXG4gICAgICAgICAgcmV0dXJuIC10cmFuc2xhdGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJhbnNsYXRlO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlcyBnbGlkZSBtb3ZlbWVudCB3aXRoIGEgYGdhcGAgc2V0dGluZ3MuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IEdsaWRlXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBDb21wb25lbnRzXHJcbiAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIEdhcCAoR2xpZGUsIENvbXBvbmVudHMpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBNb2RpZmllcyBwYXNzZWQgdHJhbnNsYXRlIHZhbHVlIHdpdGggbnVtYmVyIGluIHRoZSBgZ2FwYCBzZXR0aW5ncy5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtICB7TnVtYmVyfSB0cmFuc2xhdGVcclxuICAgICAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAgICAgKi9cclxuICAgICAgbW9kaWZ5OiBmdW5jdGlvbiBtb2RpZnkodHJhbnNsYXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRyYW5zbGF0ZSArIENvbXBvbmVudHMuR2Fwcy52YWx1ZSAqIEdsaWRlLnNtbTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZXMgZ2xpZGUgbW92ZW1lbnQgd2l0aCB3aWR0aCBvZiBhZGRpdGlvbmFsIGNsb25lcyB3aWR0aC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSAge09iamVjdH0gR2xpZGVcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IENvbXBvbmVudHNcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gR3JvdyAoR2xpZGUsIENvbXBvbmVudHMpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBBZGRzIHRvIHRoZSBwYXNzZWQgdHJhbnNsYXRlIHdpZHRoIG9mIHRoZSBoYWxmIG9mIGNsb25lcy5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtICB7TnVtYmVyfSB0cmFuc2xhdGVcclxuICAgICAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAgICAgKi9cclxuICAgICAgbW9kaWZ5OiBmdW5jdGlvbiBtb2RpZnkodHJhbnNsYXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRyYW5zbGF0ZSArIENvbXBvbmVudHMuQ2xvbmVzLmdyb3cgLyAyO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlcyBnbGlkZSBtb3ZlbWVudCB3aXRoIGEgYHBlZWtgIHNldHRpbmdzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBHbGlkZVxyXG4gICAqIEBwYXJhbSAge09iamVjdH0gQ29tcG9uZW50c1xyXG4gICAqIEByZXR1cm4ge09iamVjdH1cclxuICAgKi9cclxuICBmdW5jdGlvbiBQZWVraW5nIChHbGlkZSwgQ29tcG9uZW50cykge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIE1vZGlmaWVzIHBhc3NlZCB0cmFuc2xhdGUgdmFsdWUgd2l0aCBhIGBwZWVrYCBzZXR0aW5nLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHRyYW5zbGF0ZVxyXG4gICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICAgICAqL1xyXG4gICAgICBtb2RpZnk6IGZ1bmN0aW9uIG1vZGlmeSh0cmFuc2xhdGUpIHtcclxuICAgICAgICBpZiAoR2xpZGUuc2V0dGluZ3MuZm9jdXNBdCA+PSAwKSB7XHJcbiAgICAgICAgICB2YXIgcGVlayA9IENvbXBvbmVudHMuUGVlay52YWx1ZTtcclxuXHJcbiAgICAgICAgICBpZiAoaXNPYmplY3QocGVlaykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zbGF0ZSAtIHBlZWsuYmVmb3JlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiB0cmFuc2xhdGUgLSBwZWVrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRyYW5zbGF0ZTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZXMgZ2xpZGUgbW92ZW1lbnQgd2l0aCBhIGBmb2N1c0F0YCBzZXR0aW5ncy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSAge09iamVjdH0gR2xpZGVcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IENvbXBvbmVudHNcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gRm9jdXNpbmcgKEdsaWRlLCBDb21wb25lbnRzKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAvKipcclxuICAgICAgICogTW9kaWZpZXMgcGFzc2VkIHRyYW5zbGF0ZSB2YWx1ZSB3aXRoIGluZGV4IGluIHRoZSBgZm9jdXNBdGAgc2V0dGluZy5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtICB7TnVtYmVyfSB0cmFuc2xhdGVcclxuICAgICAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAgICAgKi9cclxuICAgICAgbW9kaWZ5OiBmdW5jdGlvbiBtb2RpZnkodHJhbnNsYXRlKSB7XHJcbiAgICAgICAgdmFyIGdhcCA9IENvbXBvbmVudHMuR2Fwcy52YWx1ZTtcclxuICAgICAgICB2YXIgd2lkdGggPSBDb21wb25lbnRzLlNpemVzLndpZHRoO1xyXG4gICAgICAgIHZhciBmb2N1c0F0ID0gR2xpZGUuc2V0dGluZ3MuZm9jdXNBdDtcclxuICAgICAgICB2YXIgc2xpZGVXaWR0aCA9IENvbXBvbmVudHMuU2l6ZXMuc2xpZGVXaWR0aDtcclxuXHJcbiAgICAgICAgaWYgKGZvY3VzQXQgPT09ICdjZW50ZXInKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJhbnNsYXRlIC0gKHdpZHRoIC8gMiAtIHNsaWRlV2lkdGggLyAyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0cmFuc2xhdGUgLSBzbGlkZVdpZHRoICogZm9jdXNBdCAtIGdhcCAqIGZvY3VzQXQ7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBcHBsaWVzIGRpZmZyZW50IHRyYW5zZm9ybWVycyBvbiB0cmFuc2xhdGUgdmFsdWUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IEdsaWRlXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBDb21wb25lbnRzXHJcbiAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIG11dGF0b3IgKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcclxuICAgIC8qKlxyXG4gICAgICogTWVyZ2UgaW5zdGFuY2UgdHJhbnNmb3JtZXJzIHdpdGggY29sbGVjdGlvbiBvZiBkZWZhdWx0IHRyYW5zZm9ybWVycy5cclxuICAgICAqIEl0J3MgaW1wb3J0YW50IHRoYXQgdGhlIFJ0bCBjb21wb25lbnQgYmUgbGFzdCBvbiB0aGUgbGlzdCxcclxuICAgICAqIHNvIGl0IHJlZmxlY3RzIGFsbCBwcmV2aW91cyB0cmFuc2Zvcm1hdGlvbnMuXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge0FycmF5fVxyXG4gICAgICovXHJcbiAgICB2YXIgVFJBTlNGT1JNRVJTID0gW0dhcCwgR3JvdywgUGVla2luZywgRm9jdXNpbmddLmNvbmNhdChHbGlkZS5fdCwgW1J0bF0pO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBQaXBsaW5lcyB0cmFuc2xhdGUgdmFsdWUgd2l0aCByZWdpc3RlcmVkIHRyYW5zZm9ybWVycy5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtICB7TnVtYmVyfSB0cmFuc2xhdGVcclxuICAgICAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAgICAgKi9cclxuICAgICAgbXV0YXRlOiBmdW5jdGlvbiBtdXRhdGUodHJhbnNsYXRlKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBUUkFOU0ZPUk1FUlMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIHZhciB0cmFuc2Zvcm1lciA9IFRSQU5TRk9STUVSU1tpXTtcclxuXHJcbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbih0cmFuc2Zvcm1lcikgJiYgaXNGdW5jdGlvbih0cmFuc2Zvcm1lcigpLm1vZGlmeSkpIHtcclxuICAgICAgICAgICAgdHJhbnNsYXRlID0gdHJhbnNmb3JtZXIoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykubW9kaWZ5KHRyYW5zbGF0ZSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3YXJuKCdUcmFuc2Zvcm1lciBzaG91bGQgYmUgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gb2JqZWN0IHdpdGggYG1vZGlmeSgpYCBtZXRob2QnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0cmFuc2xhdGU7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBUcmFuc2xhdGUgKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcclxuICAgIHZhciBUcmFuc2xhdGUgPSB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBTZXRzIHZhbHVlIG9mIHRyYW5zbGF0ZSBvbiBIVE1MIGVsZW1lbnQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZVxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcclxuICAgICAgICB2YXIgdHJhbnNmb3JtID0gbXV0YXRvcihHbGlkZSwgQ29tcG9uZW50cykubXV0YXRlKHZhbHVlKTtcclxuXHJcbiAgICAgICAgQ29tcG9uZW50cy5IdG1sLndyYXBwZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZTNkKCcgKyAtMSAqIHRyYW5zZm9ybSArICdweCwgMHB4LCAwcHgpJztcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogUmVtb3ZlcyB2YWx1ZSBvZiB0cmFuc2xhdGUgZnJvbSBIVE1MIGVsZW1lbnQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcclxuICAgICAgICBDb21wb25lbnRzLkh0bWwud3JhcHBlci5zdHlsZS50cmFuc2Zvcm0gPSAnJztcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldCBuZXcgdHJhbnNsYXRlIHZhbHVlOlxyXG4gICAgICogLSBvbiBtb3ZlIHRvIHJlZmxlY3QgaW5kZXggY2hhbmdlXHJcbiAgICAgKiAtIG9uIHVwZGF0aW5nIHZpYSBBUEkgdG8gcmVmbGVjdCBwb3NzaWJsZSBjaGFuZ2VzIGluIG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKCdtb3ZlJywgZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuICAgICAgdmFyIGdhcCA9IENvbXBvbmVudHMuR2Fwcy52YWx1ZTtcclxuICAgICAgdmFyIGxlbmd0aCA9IENvbXBvbmVudHMuU2l6ZXMubGVuZ3RoO1xyXG4gICAgICB2YXIgd2lkdGggPSBDb21wb25lbnRzLlNpemVzLnNsaWRlV2lkdGg7XHJcblxyXG4gICAgICBpZiAoR2xpZGUuaXNUeXBlKCdjYXJvdXNlbCcpICYmIENvbXBvbmVudHMuUnVuLmlzT2Zmc2V0KCc8JykpIHtcclxuICAgICAgICBDb21wb25lbnRzLlRyYW5zaXRpb24uYWZ0ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgRXZlbnRzLmVtaXQoJ3RyYW5zbGF0ZS5qdW1wJyk7XHJcblxyXG4gICAgICAgICAgVHJhbnNsYXRlLnNldCh3aWR0aCAqIChsZW5ndGggLSAxKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBUcmFuc2xhdGUuc2V0KC13aWR0aCAtIGdhcCAqIGxlbmd0aCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChHbGlkZS5pc1R5cGUoJ2Nhcm91c2VsJykgJiYgQ29tcG9uZW50cy5SdW4uaXNPZmZzZXQoJz4nKSkge1xyXG4gICAgICAgIENvbXBvbmVudHMuVHJhbnNpdGlvbi5hZnRlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBFdmVudHMuZW1pdCgndHJhbnNsYXRlLmp1bXAnKTtcclxuXHJcbiAgICAgICAgICBUcmFuc2xhdGUuc2V0KDApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gVHJhbnNsYXRlLnNldCh3aWR0aCAqIGxlbmd0aCArIGdhcCAqIGxlbmd0aCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBUcmFuc2xhdGUuc2V0KGNvbnRleHQubW92ZW1lbnQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgdHJhbnNsYXRlOlxyXG4gICAgICogLSBvbiBkZXN0cm95aW5nIHRvIGJyaW5nIG1hcmt1cCB0byBpdHMgaW5pdGFsIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbignZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgVHJhbnNsYXRlLnJlbW92ZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIFRyYW5zbGF0ZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIFRyYW5zaXRpb24gKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcclxuICAgIC8qKlxyXG4gICAgICogSG9sZHMgaW5hY3Rpdml0eSBzdGF0dXMgb2YgdHJhbnNpdGlvbi5cclxuICAgICAqIFdoZW4gdHJ1ZSB0cmFuc2l0aW9uIGlzIG5vdCBhcHBsaWVkLlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICB2YXIgZGlzYWJsZWQgPSBmYWxzZTtcclxuXHJcbiAgICB2YXIgVHJhbnNpdGlvbiA9IHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIENvbXBvc2VzIHN0cmluZyBvZiB0aGUgQ1NTIHRyYW5zaXRpb24uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxyXG4gICAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XHJcbiAgICAgICAqL1xyXG4gICAgICBjb21wb3NlOiBmdW5jdGlvbiBjb21wb3NlKHByb3BlcnR5KSB7XHJcbiAgICAgICAgdmFyIHNldHRpbmdzID0gR2xpZGUuc2V0dGluZ3M7XHJcblxyXG4gICAgICAgIGlmICghZGlzYWJsZWQpIHtcclxuICAgICAgICAgIHJldHVybiBwcm9wZXJ0eSArICcgJyArIHRoaXMuZHVyYXRpb24gKyAnbXMgJyArIHNldHRpbmdzLmFuaW1hdGlvblRpbWluZ0Z1bmM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcHJvcGVydHkgKyAnIDBtcyAnICsgc2V0dGluZ3MuYW5pbWF0aW9uVGltaW5nRnVuYztcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogU2V0cyB2YWx1ZSBvZiB0cmFuc2l0aW9uIG9uIEhUTUwgZWxlbWVudC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtTdHJpbmc9fSBwcm9wZXJ0eVxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XHJcbiAgICAgICAgdmFyIHByb3BlcnR5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAndHJhbnNmb3JtJztcclxuXHJcbiAgICAgICAgQ29tcG9uZW50cy5IdG1sLndyYXBwZXIuc3R5bGUudHJhbnNpdGlvbiA9IHRoaXMuY29tcG9zZShwcm9wZXJ0eSk7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFJlbW92ZXMgdmFsdWUgb2YgdHJhbnNpdGlvbiBmcm9tIEhUTUwgZWxlbWVudC5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xyXG4gICAgICAgIENvbXBvbmVudHMuSHRtbC53cmFwcGVyLnN0eWxlLnRyYW5zaXRpb24gPSAnJztcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogUnVucyBjYWxsYmFjayBhZnRlciBhbmltYXRpb24uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgYWZ0ZXI6IGZ1bmN0aW9uIGFmdGVyKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIH0sIHRoaXMuZHVyYXRpb24pO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBFbmFibGUgdHJhbnNpdGlvbi5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIGVuYWJsZTogZnVuY3Rpb24gZW5hYmxlKCkge1xyXG4gICAgICAgIGRpc2FibGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0KCk7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIERpc2FibGUgdHJhbnNpdGlvbi5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIGRpc2FibGU6IGZ1bmN0aW9uIGRpc2FibGUoKSB7XHJcbiAgICAgICAgZGlzYWJsZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLnNldCgpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGRlZmluZShUcmFuc2l0aW9uLCAnZHVyYXRpb24nLCB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBHZXRzIGR1cmF0aW9uIG9mIHRoZSB0cmFuc2l0aW9uIGJhc2VkXHJcbiAgICAgICAqIG9uIGN1cnJlbnRseSBydW5uaW5nIGFuaW1hdGlvbiB0eXBlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICAgICAqL1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICB2YXIgc2V0dGluZ3MgPSBHbGlkZS5zZXR0aW5ncztcclxuXHJcbiAgICAgICAgaWYgKEdsaWRlLmlzVHlwZSgnc2xpZGVyJykgJiYgQ29tcG9uZW50cy5SdW4ub2Zmc2V0KSB7XHJcbiAgICAgICAgICByZXR1cm4gc2V0dGluZ3MucmV3aW5kRHVyYXRpb247XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc2V0dGluZ3MuYW5pbWF0aW9uRHVyYXRpb247XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRyYW5zaXRpb24gYHN0eWxlYCB2YWx1ZTpcclxuICAgICAqIC0gb24gZWFjaCBtb3ZpbmcsIGJlY2F1c2UgaXQgbWF5IGJlIGNsZWFyZWQgYnkgb2Zmc2V0IG1vdmVcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKCdtb3ZlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBUcmFuc2l0aW9uLnNldCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXNhYmxlIHRyYW5zaXRpb246XHJcbiAgICAgKiAtIGJlZm9yZSBpbml0aWFsIGJ1aWxkIHRvIGF2b2lkIHRyYW5zaXRpb25pbmcgZnJvbSBgMGAgdG8gYHN0YXJ0QXRgIGluZGV4XHJcbiAgICAgKiAtIHdoaWxlIHJlc2l6aW5nIHdpbmRvdyBhbmQgcmVjYWxjdWxhdGluZyBkaW1lbnRpb25zXHJcbiAgICAgKiAtIG9uIGp1bXBpbmcgZnJvbSBvZmZzZXQgdHJhbnNpdGlvbiBhdCBzdGFydCBhbmQgZW5kIGVkZ2VzIGluIGBjYXJvdXNlbGAgdHlwZVxyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oWydidWlsZC5iZWZvcmUnLCAncmVzaXplJywgJ3RyYW5zbGF0ZS5qdW1wJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgVHJhbnNpdGlvbi5kaXNhYmxlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEVuYWJsZSB0cmFuc2l0aW9uOlxyXG4gICAgICogLSBvbiBlYWNoIHJ1bm5pbmcsIGJlY2F1c2UgaXQgbWF5IGJlIGRpc2FibGVkIGJ5IG9mZnNldCBtb3ZlXHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbigncnVuJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBUcmFuc2l0aW9uLmVuYWJsZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgdHJhbnNpdGlvbjpcclxuICAgICAqIC0gb24gZGVzdHJveWluZyB0byBicmluZyBtYXJrdXAgdG8gaXRzIGluaXRhbCBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIFRyYW5zaXRpb24ucmVtb3ZlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gVHJhbnNpdGlvbjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRlc3QgdmlhIGEgZ2V0dGVyIGluIHRoZSBvcHRpb25zIG9iamVjdCB0byBzZWVcclxuICAgKiBpZiB0aGUgcGFzc2l2ZSBwcm9wZXJ0eSBpcyBhY2Nlc3NlZC5cclxuICAgKlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL1dJQ0cvRXZlbnRMaXN0ZW5lck9wdGlvbnMvYmxvYi9naC1wYWdlcy9leHBsYWluZXIubWQjZmVhdHVyZS1kZXRlY3Rpb25cclxuICAgKi9cclxuXHJcbiAgdmFyIHN1cHBvcnRzUGFzc2l2ZSA9IGZhbHNlO1xyXG5cclxuICB0cnkge1xyXG4gICAgdmFyIG9wdHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdwYXNzaXZlJywge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICBzdXBwb3J0c1Bhc3NpdmUgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndGVzdFBhc3NpdmUnLCBudWxsLCBvcHRzKTtcclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0ZXN0UGFzc2l2ZScsIG51bGwsIG9wdHMpO1xyXG4gIH0gY2F0Y2ggKGUpIHt9XHJcblxyXG4gIHZhciBzdXBwb3J0c1Bhc3NpdmUkMSA9IHN1cHBvcnRzUGFzc2l2ZTtcclxuXHJcbiAgdmFyIFNUQVJUX0VWRU5UUyA9IFsndG91Y2hzdGFydCcsICdtb3VzZWRvd24nXTtcclxuICB2YXIgTU9WRV9FVkVOVFMgPSBbJ3RvdWNobW92ZScsICdtb3VzZW1vdmUnXTtcclxuICB2YXIgRU5EX0VWRU5UUyA9IFsndG91Y2hlbmQnLCAndG91Y2hjYW5jZWwnLCAnbW91c2V1cCcsICdtb3VzZWxlYXZlJ107XHJcbiAgdmFyIE1PVVNFX0VWRU5UUyA9IFsnbW91c2Vkb3duJywgJ21vdXNlbW92ZScsICdtb3VzZXVwJywgJ21vdXNlbGVhdmUnXTtcclxuXHJcbiAgZnVuY3Rpb24gU3dpcGUgKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcclxuICAgIC8qKlxyXG4gICAgICogSW5zdGFuY2Ugb2YgdGhlIGJpbmRlciBmb3IgRE9NIEV2ZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAdHlwZSB7RXZlbnRzQmluZGVyfVxyXG4gICAgICovXHJcbiAgICB2YXIgQmluZGVyID0gbmV3IEV2ZW50c0JpbmRlcigpO1xyXG5cclxuICAgIHZhciBzd2lwZVNpbiA9IDA7XHJcbiAgICB2YXIgc3dpcGVTdGFydFggPSAwO1xyXG4gICAgdmFyIHN3aXBlU3RhcnRZID0gMDtcclxuICAgIHZhciBkaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgdmFyIGNhcHR1cmUgPSBzdXBwb3J0c1Bhc3NpdmUkMSA/IHsgcGFzc2l2ZTogdHJ1ZSB9IDogZmFsc2U7XHJcblxyXG4gICAgdmFyIFN3aXBlID0ge1xyXG4gICAgICAvKipcclxuICAgICAgICogSW5pdGlhbGl6ZXMgc3dpcGUgYmluZGluZ3MuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBtb3VudDogZnVuY3Rpb24gbW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5iaW5kU3dpcGVTdGFydCgpO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBIYW5kbGVyIGZvciBgc3dpcGVzdGFydGAgZXZlbnQuIENhbGN1bGF0ZXMgZW50cnkgcG9pbnRzIG9mIHRoZSB1c2VyJ3MgdGFwLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydChldmVudCkge1xyXG4gICAgICAgIGlmICghZGlzYWJsZWQgJiYgIUdsaWRlLmRpc2FibGVkKSB7XHJcbiAgICAgICAgICB0aGlzLmRpc2FibGUoKTtcclxuXHJcbiAgICAgICAgICB2YXIgc3dpcGUgPSB0aGlzLnRvdWNoZXMoZXZlbnQpO1xyXG5cclxuICAgICAgICAgIHN3aXBlU2luID0gbnVsbDtcclxuICAgICAgICAgIHN3aXBlU3RhcnRYID0gdG9JbnQoc3dpcGUucGFnZVgpO1xyXG4gICAgICAgICAgc3dpcGVTdGFydFkgPSB0b0ludChzd2lwZS5wYWdlWSk7XHJcblxyXG4gICAgICAgICAgdGhpcy5iaW5kU3dpcGVNb3ZlKCk7XHJcbiAgICAgICAgICB0aGlzLmJpbmRTd2lwZUVuZCgpO1xyXG5cclxuICAgICAgICAgIEV2ZW50cy5lbWl0KCdzd2lwZS5zdGFydCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogSGFuZGxlciBmb3IgYHN3aXBlbW92ZWAgZXZlbnQuIENhbGN1bGF0ZXMgdXNlcidzIHRhcCBhbmdsZSBhbmQgZGlzdGFuY2UuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxyXG4gICAgICAgKi9cclxuICAgICAgbW92ZTogZnVuY3Rpb24gbW92ZShldmVudCkge1xyXG4gICAgICAgIGlmICghR2xpZGUuZGlzYWJsZWQpIHtcclxuICAgICAgICAgIHZhciBfR2xpZGUkc2V0dGluZ3MgPSBHbGlkZS5zZXR0aW5ncyxcclxuICAgICAgICAgICAgICB0b3VjaEFuZ2xlID0gX0dsaWRlJHNldHRpbmdzLnRvdWNoQW5nbGUsXHJcbiAgICAgICAgICAgICAgdG91Y2hSYXRpbyA9IF9HbGlkZSRzZXR0aW5ncy50b3VjaFJhdGlvLFxyXG4gICAgICAgICAgICAgIGNsYXNzZXMgPSBfR2xpZGUkc2V0dGluZ3MuY2xhc3NlcztcclxuXHJcblxyXG4gICAgICAgICAgdmFyIHN3aXBlID0gdGhpcy50b3VjaGVzKGV2ZW50KTtcclxuXHJcbiAgICAgICAgICB2YXIgc3ViRXhTeCA9IHRvSW50KHN3aXBlLnBhZ2VYKSAtIHN3aXBlU3RhcnRYO1xyXG4gICAgICAgICAgdmFyIHN1YkV5U3kgPSB0b0ludChzd2lwZS5wYWdlWSkgLSBzd2lwZVN0YXJ0WTtcclxuICAgICAgICAgIHZhciBwb3dFWCA9IE1hdGguYWJzKHN1YkV4U3ggPDwgMik7XHJcbiAgICAgICAgICB2YXIgcG93RVkgPSBNYXRoLmFicyhzdWJFeVN5IDw8IDIpO1xyXG4gICAgICAgICAgdmFyIHN3aXBlSHlwb3RlbnVzZSA9IE1hdGguc3FydChwb3dFWCArIHBvd0VZKTtcclxuICAgICAgICAgIHZhciBzd2lwZUNhdGhldHVzID0gTWF0aC5zcXJ0KHBvd0VZKTtcclxuXHJcbiAgICAgICAgICBzd2lwZVNpbiA9IE1hdGguYXNpbihzd2lwZUNhdGhldHVzIC8gc3dpcGVIeXBvdGVudXNlKTtcclxuXHJcbiAgICAgICAgICBpZiAoc3dpcGVTaW4gKiAxODAgLyBNYXRoLlBJIDwgdG91Y2hBbmdsZSkge1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgIENvbXBvbmVudHMuTW92ZS5tYWtlKHN1YkV4U3ggKiB0b0Zsb2F0KHRvdWNoUmF0aW8pKTtcclxuXHJcbiAgICAgICAgICAgIENvbXBvbmVudHMuSHRtbC5yb290LmNsYXNzTGlzdC5hZGQoY2xhc3Nlcy5kcmFnZ2luZyk7XHJcblxyXG4gICAgICAgICAgICBFdmVudHMuZW1pdCgnc3dpcGUubW92ZScpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogSGFuZGxlciBmb3IgYHN3aXBlZW5kYCBldmVudC4gRmluaXRpYWxpemVzIHVzZXIncyB0YXAgYW5kIGRlY2lkZXMgYWJvdXQgZ2xpZGUgbW92ZS5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBlbmQ6IGZ1bmN0aW9uIGVuZChldmVudCkge1xyXG4gICAgICAgIGlmICghR2xpZGUuZGlzYWJsZWQpIHtcclxuICAgICAgICAgIHZhciBzZXR0aW5ncyA9IEdsaWRlLnNldHRpbmdzO1xyXG5cclxuICAgICAgICAgIHZhciBzd2lwZSA9IHRoaXMudG91Y2hlcyhldmVudCk7XHJcbiAgICAgICAgICB2YXIgdGhyZXNob2xkID0gdGhpcy50aHJlc2hvbGQoZXZlbnQpO1xyXG5cclxuICAgICAgICAgIHZhciBzd2lwZURpc3RhbmNlID0gc3dpcGUucGFnZVggLSBzd2lwZVN0YXJ0WDtcclxuICAgICAgICAgIHZhciBzd2lwZURlZyA9IHN3aXBlU2luICogMTgwIC8gTWF0aC5QSTtcclxuICAgICAgICAgIHZhciBzdGVwcyA9IE1hdGgucm91bmQoc3dpcGVEaXN0YW5jZSAvIENvbXBvbmVudHMuU2l6ZXMuc2xpZGVXaWR0aCk7XHJcblxyXG4gICAgICAgICAgdGhpcy5lbmFibGUoKTtcclxuXHJcbiAgICAgICAgICBpZiAoc3dpcGVEaXN0YW5jZSA+IHRocmVzaG9sZCAmJiBzd2lwZURlZyA8IHNldHRpbmdzLnRvdWNoQW5nbGUpIHtcclxuICAgICAgICAgICAgLy8gV2hpbGUgc3dpcGUgaXMgcG9zaXRpdmUgYW5kIGdyZWF0ZXIgdGhhbiB0aHJlc2hvbGQgbW92ZSBiYWNrd2FyZC5cclxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLnBlclRvdWNoKSB7XHJcbiAgICAgICAgICAgICAgc3RlcHMgPSBNYXRoLm1pbihzdGVwcywgdG9JbnQoc2V0dGluZ3MucGVyVG91Y2gpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKENvbXBvbmVudHMuRGlyZWN0aW9uLmlzKCdydGwnKSkge1xyXG4gICAgICAgICAgICAgIHN0ZXBzID0gLXN0ZXBzO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBDb21wb25lbnRzLlJ1bi5tYWtlKENvbXBvbmVudHMuRGlyZWN0aW9uLnJlc29sdmUoJzwnICsgc3RlcHMpKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoc3dpcGVEaXN0YW5jZSA8IC10aHJlc2hvbGQgJiYgc3dpcGVEZWcgPCBzZXR0aW5ncy50b3VjaEFuZ2xlKSB7XHJcbiAgICAgICAgICAgIC8vIFdoaWxlIHN3aXBlIGlzIG5lZ2F0aXZlIGFuZCBsb3dlciB0aGFuIG5lZ2F0aXZlIHRocmVzaG9sZCBtb3ZlIGZvcndhcmQuXHJcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5wZXJUb3VjaCkge1xyXG4gICAgICAgICAgICAgIHN0ZXBzID0gTWF0aC5tYXgoc3RlcHMsIC10b0ludChzZXR0aW5ncy5wZXJUb3VjaCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoQ29tcG9uZW50cy5EaXJlY3Rpb24uaXMoJ3J0bCcpKSB7XHJcbiAgICAgICAgICAgICAgc3RlcHMgPSAtc3RlcHM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIENvbXBvbmVudHMuUnVuLm1ha2UoQ29tcG9uZW50cy5EaXJlY3Rpb24ucmVzb2x2ZSgnPicgKyBzdGVwcykpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gV2hpbGUgc3dpcGUgZG9uJ3QgcmVhY2ggZGlzdGFuY2UgYXBwbHkgcHJldmlvdXMgdHJhbnNmb3JtLlxyXG4gICAgICAgICAgICBDb21wb25lbnRzLk1vdmUubWFrZSgpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIENvbXBvbmVudHMuSHRtbC5yb290LmNsYXNzTGlzdC5yZW1vdmUoc2V0dGluZ3MuY2xhc3Nlcy5kcmFnZ2luZyk7XHJcblxyXG4gICAgICAgICAgdGhpcy51bmJpbmRTd2lwZU1vdmUoKTtcclxuICAgICAgICAgIHRoaXMudW5iaW5kU3dpcGVFbmQoKTtcclxuXHJcbiAgICAgICAgICBFdmVudHMuZW1pdCgnc3dpcGUuZW5kJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBCaW5kcyBzd2lwZSdzIHN0YXJ0aW5nIGV2ZW50LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgYmluZFN3aXBlU3RhcnQ6IGZ1bmN0aW9uIGJpbmRTd2lwZVN0YXJ0KCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgICAgIHZhciBzZXR0aW5ncyA9IEdsaWRlLnNldHRpbmdzO1xyXG5cclxuICAgICAgICBpZiAoc2V0dGluZ3Muc3dpcGVUaHJlc2hvbGQpIHtcclxuICAgICAgICAgIEJpbmRlci5vbihTVEFSVF9FVkVOVFNbMF0sIENvbXBvbmVudHMuSHRtbC53cmFwcGVyLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgX3RoaXMuc3RhcnQoZXZlbnQpO1xyXG4gICAgICAgICAgfSwgY2FwdHVyZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc2V0dGluZ3MuZHJhZ1RocmVzaG9sZCkge1xyXG4gICAgICAgICAgQmluZGVyLm9uKFNUQVJUX0VWRU5UU1sxXSwgQ29tcG9uZW50cy5IdG1sLndyYXBwZXIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zdGFydChldmVudCk7XHJcbiAgICAgICAgICB9LCBjYXB0dXJlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFVuYmluZHMgc3dpcGUncyBzdGFydGluZyBldmVudC5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIHVuYmluZFN3aXBlU3RhcnQ6IGZ1bmN0aW9uIHVuYmluZFN3aXBlU3RhcnQoKSB7XHJcbiAgICAgICAgQmluZGVyLm9mZihTVEFSVF9FVkVOVFNbMF0sIENvbXBvbmVudHMuSHRtbC53cmFwcGVyLCBjYXB0dXJlKTtcclxuICAgICAgICBCaW5kZXIub2ZmKFNUQVJUX0VWRU5UU1sxXSwgQ29tcG9uZW50cy5IdG1sLndyYXBwZXIsIGNhcHR1cmUpO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBCaW5kcyBzd2lwZSdzIG1vdmluZyBldmVudC5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIGJpbmRTd2lwZU1vdmU6IGZ1bmN0aW9uIGJpbmRTd2lwZU1vdmUoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XHJcblxyXG4gICAgICAgIEJpbmRlci5vbihNT1ZFX0VWRU5UUywgQ29tcG9uZW50cy5IdG1sLndyYXBwZXIsIHRocm90dGxlKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgX3RoaXMyLm1vdmUoZXZlbnQpO1xyXG4gICAgICAgIH0sIEdsaWRlLnNldHRpbmdzLnRocm90dGxlKSwgY2FwdHVyZSk7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFVuYmluZHMgc3dpcGUncyBtb3ZpbmcgZXZlbnQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICB1bmJpbmRTd2lwZU1vdmU6IGZ1bmN0aW9uIHVuYmluZFN3aXBlTW92ZSgpIHtcclxuICAgICAgICBCaW5kZXIub2ZmKE1PVkVfRVZFTlRTLCBDb21wb25lbnRzLkh0bWwud3JhcHBlciwgY2FwdHVyZSk7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEJpbmRzIHN3aXBlJ3MgZW5kaW5nIGV2ZW50LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgYmluZFN3aXBlRW5kOiBmdW5jdGlvbiBiaW5kU3dpcGVFbmQoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XHJcblxyXG4gICAgICAgIEJpbmRlci5vbihFTkRfRVZFTlRTLCBDb21wb25lbnRzLkh0bWwud3JhcHBlciwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICBfdGhpczMuZW5kKGV2ZW50KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogVW5iaW5kcyBzd2lwZSdzIGVuZGluZyBldmVudC5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIHVuYmluZFN3aXBlRW5kOiBmdW5jdGlvbiB1bmJpbmRTd2lwZUVuZCgpIHtcclxuICAgICAgICBCaW5kZXIub2ZmKEVORF9FVkVOVFMsIENvbXBvbmVudHMuSHRtbC53cmFwcGVyKTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogTm9ybWFsaXplcyBldmVudCB0b3VjaGVzIHBvaW50cyBhY2NvcnRpbmcgdG8gZGlmZmVyZW50IHR5cGVzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcclxuICAgICAgICovXHJcbiAgICAgIHRvdWNoZXM6IGZ1bmN0aW9uIHRvdWNoZXMoZXZlbnQpIHtcclxuICAgICAgICBpZiAoTU9VU0VfRVZFTlRTLmluZGV4T2YoZXZlbnQudHlwZSkgPiAtMSkge1xyXG4gICAgICAgICAgcmV0dXJuIGV2ZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGV2ZW50LnRvdWNoZXNbMF0gfHwgZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEdldHMgdmFsdWUgb2YgbWluaW11bSBzd2lwZSBkaXN0YW5jZSBzZXR0aW5ncyBiYXNlZCBvbiBldmVudCB0eXBlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICAgICAqL1xyXG4gICAgICB0aHJlc2hvbGQ6IGZ1bmN0aW9uIHRocmVzaG9sZChldmVudCkge1xyXG4gICAgICAgIHZhciBzZXR0aW5ncyA9IEdsaWRlLnNldHRpbmdzO1xyXG5cclxuICAgICAgICBpZiAoTU9VU0VfRVZFTlRTLmluZGV4T2YoZXZlbnQudHlwZSkgPiAtMSkge1xyXG4gICAgICAgICAgcmV0dXJuIHNldHRpbmdzLmRyYWdUaHJlc2hvbGQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc2V0dGluZ3Muc3dpcGVUaHJlc2hvbGQ7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEVuYWJsZXMgc3dpcGUgZXZlbnQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge3NlbGZ9XHJcbiAgICAgICAqL1xyXG4gICAgICBlbmFibGU6IGZ1bmN0aW9uIGVuYWJsZSgpIHtcclxuICAgICAgICBkaXNhYmxlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBDb21wb25lbnRzLlRyYW5zaXRpb24uZW5hYmxlKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBEaXNhYmxlcyBzd2lwZSBldmVudC5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7c2VsZn1cclxuICAgICAgICovXHJcbiAgICAgIGRpc2FibGU6IGZ1bmN0aW9uIGRpc2FibGUoKSB7XHJcbiAgICAgICAgZGlzYWJsZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICBDb21wb25lbnRzLlRyYW5zaXRpb24uZGlzYWJsZSgpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBjb21wb25lbnQgY2xhc3M6XHJcbiAgICAgKiAtIGFmdGVyIGluaXRpYWwgYnVpbGRpbmdcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKCdidWlsZC5hZnRlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgQ29tcG9uZW50cy5IdG1sLnJvb3QuY2xhc3NMaXN0LmFkZChHbGlkZS5zZXR0aW5ncy5jbGFzc2VzLnN3aXBlYWJsZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBzd2lwaW5nIGJpbmRpbmdzOlxyXG4gICAgICogLSBvbiBkZXN0cm95aW5nLCB0byByZW1vdmUgYWRkZWQgRXZlbnRMaXN0ZW5lcnNcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBTd2lwZS51bmJpbmRTd2lwZVN0YXJ0KCk7XHJcbiAgICAgIFN3aXBlLnVuYmluZFN3aXBlTW92ZSgpO1xyXG4gICAgICBTd2lwZS51bmJpbmRTd2lwZUVuZCgpO1xyXG4gICAgICBCaW5kZXIuZGVzdHJveSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIFN3aXBlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gSW1hZ2VzIChHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKSB7XHJcbiAgICAvKipcclxuICAgICAqIEluc3RhbmNlIG9mIHRoZSBiaW5kZXIgZm9yIERPTSBFdmVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge0V2ZW50c0JpbmRlcn1cclxuICAgICAqL1xyXG4gICAgdmFyIEJpbmRlciA9IG5ldyBFdmVudHNCaW5kZXIoKTtcclxuXHJcbiAgICB2YXIgSW1hZ2VzID0ge1xyXG4gICAgICAvKipcclxuICAgICAgICogQmluZHMgbGlzdGVuZXIgdG8gZ2xpZGUgd3JhcHBlci5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIG1vdW50OiBmdW5jdGlvbiBtb3VudCgpIHtcclxuICAgICAgICB0aGlzLmJpbmQoKTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQmluZHMgYGRyYWdzdGFydGAgZXZlbnQgb24gd3JhcHBlciB0byBwcmV2ZW50IGRyYWdnaW5nIGltYWdlcy5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIGJpbmQ6IGZ1bmN0aW9uIGJpbmQoKSB7XHJcbiAgICAgICAgQmluZGVyLm9uKCdkcmFnc3RhcnQnLCBDb21wb25lbnRzLkh0bWwud3JhcHBlciwgdGhpcy5kcmFnc3RhcnQpO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBVbmJpbmRzIGBkcmFnc3RhcnRgIGV2ZW50IG9uIHdyYXBwZXIuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICB1bmJpbmQ6IGZ1bmN0aW9uIHVuYmluZCgpIHtcclxuICAgICAgICBCaW5kZXIub2ZmKCdkcmFnc3RhcnQnLCBDb21wb25lbnRzLkh0bWwud3JhcHBlcik7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEV2ZW50IGhhbmRsZXIuIFByZXZlbnRzIGRyYWdnaW5nLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgZHJhZ3N0YXJ0OiBmdW5jdGlvbiBkcmFnc3RhcnQoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGJpbmRpbmdzIGZyb20gaW1hZ2VzOlxyXG4gICAgICogLSBvbiBkZXN0cm95aW5nLCB0byByZW1vdmUgYWRkZWQgRXZlbnRMaXN0ZW5lcnNcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBJbWFnZXMudW5iaW5kKCk7XHJcbiAgICAgIEJpbmRlci5kZXN0cm95KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gSW1hZ2VzO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gQW5jaG9ycyAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbnN0YW5jZSBvZiB0aGUgYmluZGVyIGZvciBET00gRXZlbnRzLlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtFdmVudHNCaW5kZXJ9XHJcbiAgICAgKi9cclxuICAgIHZhciBCaW5kZXIgPSBuZXcgRXZlbnRzQmluZGVyKCk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIb2xkcyBkZXRhY2hpbmcgc3RhdHVzIG9mIGFuY2hvcnMuXHJcbiAgICAgKiBQcmV2ZW50cyBkZXRhY2hpbmcgb2YgYWxyZWFkeSBkZXRhY2hlZCBhbmNob3JzLlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgdmFyIGRldGFjaGVkID0gZmFsc2U7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIb2xkcyBwcmV2ZW50aW5nIHN0YXR1cyBvZiBhbmNob3JzLlxyXG4gICAgICogSWYgYHRydWVgIHJlZGlyZWN0aW9uIGFmdGVyIGNsaWNrIHdpbGwgYmUgZGlzYWJsZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEB0eXBlIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICB2YXIgcHJldmVudGVkID0gZmFsc2U7XHJcblxyXG4gICAgdmFyIEFuY2hvcnMgPSB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBTZXR1cHMgYSBpbml0aWFsIHN0YXRlIG9mIGFuY2hvcnMgY29tcG9uZW50LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJucyB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIG1vdW50OiBmdW5jdGlvbiBtb3VudCgpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIb2xkcyBjb2xsZWN0aW9uIG9mIGFuY2hvcnMgZWxlbWVudHMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqIEB0eXBlIHtIVE1MQ29sbGVjdGlvbn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9hID0gQ29tcG9uZW50cy5IdG1sLndyYXBwZXIucXVlcnlTZWxlY3RvckFsbCgnYScpO1xyXG5cclxuICAgICAgICB0aGlzLmJpbmQoKTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQmluZHMgZXZlbnRzIHRvIGFuY2hvcnMgaW5zaWRlIGEgdHJhY2suXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBiaW5kOiBmdW5jdGlvbiBiaW5kKCkge1xyXG4gICAgICAgIEJpbmRlci5vbignY2xpY2snLCBDb21wb25lbnRzLkh0bWwud3JhcHBlciwgdGhpcy5jbGljayk7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFVuYmluZHMgZXZlbnRzIGF0dGFjaGVkIHRvIGFuY2hvcnMgaW5zaWRlIGEgdHJhY2suXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICB1bmJpbmQ6IGZ1bmN0aW9uIHVuYmluZCgpIHtcclxuICAgICAgICBCaW5kZXIub2ZmKCdjbGljaycsIENvbXBvbmVudHMuSHRtbC53cmFwcGVyKTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogSGFuZGxlciBmb3IgY2xpY2sgZXZlbnQuIFByZXZlbnRzIGNsaWNrcyB3aGVuIGdsaWRlIGlzIGluIGBwcmV2ZW50YCBzdGF0dXMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSAge09iamVjdH0gZXZlbnRcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljayhldmVudCkge1xyXG4gICAgICAgIGlmIChwcmV2ZW50ZWQpIHtcclxuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIERldGFjaGVzIGFuY2hvcnMgY2xpY2sgZXZlbnQgaW5zaWRlIGdsaWRlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtzZWxmfVxyXG4gICAgICAgKi9cclxuICAgICAgZGV0YWNoOiBmdW5jdGlvbiBkZXRhY2goKSB7XHJcbiAgICAgICAgcHJldmVudGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgaWYgKCFkZXRhY2hlZCkge1xyXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0uZHJhZ2dhYmxlID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLnNldEF0dHJpYnV0ZSgnZGF0YS1ocmVmJywgdGhpcy5pdGVtc1tpXS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLnJlbW92ZUF0dHJpYnV0ZSgnaHJlZicpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGRldGFjaGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBBdHRhY2hlcyBhbmNob3JzIGNsaWNrIGV2ZW50cyBpbnNpZGUgZ2xpZGUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge3NlbGZ9XHJcbiAgICAgICAqL1xyXG4gICAgICBhdHRhY2g6IGZ1bmN0aW9uIGF0dGFjaCgpIHtcclxuICAgICAgICBwcmV2ZW50ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKGRldGFjaGVkKSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5kcmFnZ2FibGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCB0aGlzLml0ZW1zW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1ocmVmJykpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGRldGFjaGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBkZWZpbmUoQW5jaG9ycywgJ2l0ZW1zJywge1xyXG4gICAgICAvKipcclxuICAgICAgICogR2V0cyBjb2xsZWN0aW9uIG9mIHRoZSBhcnJvd3MgSFRNTCBlbGVtZW50cy5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7SFRNTEVsZW1lbnRbXX1cclxuICAgICAgICovXHJcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgIHJldHVybiBBbmNob3JzLl9hO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERldGFjaCBhbmNob3JzIGluc2lkZSBzbGlkZXM6XHJcbiAgICAgKiAtIG9uIHN3aXBpbmcsIHNvIHRoZXkgd29uJ3QgcmVkaXJlY3QgdG8gaXRzIGBocmVmYCBhdHRyaWJ1dGVzXHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbignc3dpcGUubW92ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgQW5jaG9ycy5kZXRhY2goKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQXR0YWNoIGFuY2hvcnMgaW5zaWRlIHNsaWRlczpcclxuICAgICAqIC0gYWZ0ZXIgc3dpcGluZyBhbmQgdHJhbnNpdGlvbnMgZW5kcywgc28gdGhleSBjYW4gcmVkaXJlY3QgYWZ0ZXIgY2xpY2sgYWdhaW5cclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKCdzd2lwZS5lbmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIENvbXBvbmVudHMuVHJhbnNpdGlvbi5hZnRlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgQW5jaG9ycy5hdHRhY2goKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVuYmluZCBhbmNob3JzIGluc2lkZSBzbGlkZXM6XHJcbiAgICAgKiAtIG9uIGRlc3Ryb3lpbmcsIHRvIGJyaW5nIGFuY2hvcnMgdG8gaXRzIGluaXRpYWwgc3RhdGVcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBBbmNob3JzLmF0dGFjaCgpO1xyXG4gICAgICBBbmNob3JzLnVuYmluZCgpO1xyXG4gICAgICBCaW5kZXIuZGVzdHJveSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIEFuY2hvcnM7XHJcbiAgfVxyXG5cclxuICB2YXIgTkFWX1NFTEVDVE9SID0gJ1tkYXRhLWdsaWRlLWVsPVwiY29udHJvbHNbbmF2XVwiXSc7XHJcbiAgdmFyIENPTlRST0xTX1NFTEVDVE9SID0gJ1tkYXRhLWdsaWRlLWVsXj1cImNvbnRyb2xzXCJdJztcclxuXHJcbiAgZnVuY3Rpb24gQ29udHJvbHMgKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcclxuICAgIC8qKlxyXG4gICAgICogSW5zdGFuY2Ugb2YgdGhlIGJpbmRlciBmb3IgRE9NIEV2ZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAdHlwZSB7RXZlbnRzQmluZGVyfVxyXG4gICAgICovXHJcbiAgICB2YXIgQmluZGVyID0gbmV3IEV2ZW50c0JpbmRlcigpO1xyXG5cclxuICAgIHZhciBjYXB0dXJlID0gc3VwcG9ydHNQYXNzaXZlJDEgPyB7IHBhc3NpdmU6IHRydWUgfSA6IGZhbHNlO1xyXG5cclxuICAgIHZhciBDb250cm9scyA9IHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEluaXRzIGFycm93cy4gQmluZHMgZXZlbnRzIGxpc3RlbmVyc1xyXG4gICAgICAgKiB0byB0aGUgYXJyb3dzIEhUTUwgZWxlbWVudHMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBtb3VudDogZnVuY3Rpb24gbW91bnQoKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBuYXZpZ2F0aW9uIEhUTUwgZWxlbWVudHMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqIEB0eXBlIHtIVE1MQ29sbGVjdGlvbn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9uID0gQ29tcG9uZW50cy5IdG1sLnJvb3QucXVlcnlTZWxlY3RvckFsbChOQVZfU0VMRUNUT1IpO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGNvbnRyb2xzIEhUTUwgZWxlbWVudHMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqIEB0eXBlIHtIVE1MQ29sbGVjdGlvbn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9jID0gQ29tcG9uZW50cy5IdG1sLnJvb3QucXVlcnlTZWxlY3RvckFsbChDT05UUk9MU19TRUxFQ1RPUik7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkQmluZGluZ3MoKTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogU2V0cyBhY3RpdmUgY2xhc3MgdG8gY3VycmVudCBzbGlkZS5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIHNldEFjdGl2ZTogZnVuY3Rpb24gc2V0QWN0aXZlKCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgdGhpcy5hZGRDbGFzcyh0aGlzLl9uW2ldLmNoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFJlbW92ZXMgYWN0aXZlIGNsYXNzIHRvIGN1cnJlbnQgc2xpZGUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICByZW1vdmVBY3RpdmU6IGZ1bmN0aW9uIHJlbW92ZUFjdGl2ZSgpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX24ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIHRoaXMucmVtb3ZlQ2xhc3ModGhpcy5fbltpXS5jaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBUb2dnbGVzIGFjdGl2ZSBjbGFzcyBvbiBpdGVtcyBpbnNpZGUgbmF2aWdhdGlvbi5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IGNvbnRyb2xzXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBhZGRDbGFzczogZnVuY3Rpb24gYWRkQ2xhc3MoY29udHJvbHMpIHtcclxuICAgICAgICB2YXIgc2V0dGluZ3MgPSBHbGlkZS5zZXR0aW5ncztcclxuICAgICAgICB2YXIgaXRlbSA9IGNvbnRyb2xzW0dsaWRlLnNtbV07XHJcblxyXG4gICAgICAgIGlmIChpdGVtKSB7XHJcbiAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoc2V0dGluZ3MuY2xhc3Nlcy5hY3RpdmVOYXYpO1xyXG5cclxuICAgICAgICAgIHNpYmxpbmdzKGl0ZW0pLmZvckVhY2goZnVuY3Rpb24gKHNpYmxpbmcpIHtcclxuICAgICAgICAgICAgc2libGluZy5jbGFzc0xpc3QucmVtb3ZlKHNldHRpbmdzLmNsYXNzZXMuYWN0aXZlTmF2KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogUmVtb3ZlcyBhY3RpdmUgY2xhc3MgZnJvbSBhY3RpdmUgY29udHJvbC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IGNvbnRyb2xzXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoY29udHJvbHMpIHtcclxuICAgICAgICB2YXIgaXRlbSA9IGNvbnRyb2xzW0dsaWRlLnNtbV07XHJcblxyXG4gICAgICAgIGlmIChpdGVtKSB7XHJcbiAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoR2xpZGUuc2V0dGluZ3MuY2xhc3Nlcy5hY3RpdmVOYXYpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQWRkcyBoYW5kbGVzIHRvIHRoZSBlYWNoIGdyb3VwIG9mIGNvbnRyb2xzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgYWRkQmluZGluZ3M6IGZ1bmN0aW9uIGFkZEJpbmRpbmdzKCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fYy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgdGhpcy5iaW5kKHRoaXMuX2NbaV0uY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogUmVtb3ZlcyBoYW5kbGVzIGZyb20gdGhlIGVhY2ggZ3JvdXAgb2YgY29udHJvbHMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICByZW1vdmVCaW5kaW5nczogZnVuY3Rpb24gcmVtb3ZlQmluZGluZ3MoKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9jLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICB0aGlzLnVuYmluZCh0aGlzLl9jW2ldLmNoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEJpbmRzIGV2ZW50cyB0byBhcnJvd3MgSFRNTCBlbGVtZW50cy5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtIVE1MQ29sbGVjdGlvbn0gZWxlbWVudHNcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIGJpbmQ6IGZ1bmN0aW9uIGJpbmQoZWxlbWVudHMpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBCaW5kZXIub24oJ2NsaWNrJywgZWxlbWVudHNbaV0sIHRoaXMuY2xpY2spO1xyXG4gICAgICAgICAgQmluZGVyLm9uKCd0b3VjaHN0YXJ0JywgZWxlbWVudHNbaV0sIHRoaXMuY2xpY2ssIGNhcHR1cmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogVW5iaW5kcyBldmVudHMgYmluZGVkIHRvIHRoZSBhcnJvd3MgSFRNTCBlbGVtZW50cy5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtIVE1MQ29sbGVjdGlvbn0gZWxlbWVudHNcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIHVuYmluZDogZnVuY3Rpb24gdW5iaW5kKGVsZW1lbnRzKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgQmluZGVyLm9mZihbJ2NsaWNrJywgJ3RvdWNoc3RhcnQnXSwgZWxlbWVudHNbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogSGFuZGxlcyBgY2xpY2tgIGV2ZW50IG9uIHRoZSBhcnJvd3MgSFRNTCBlbGVtZW50cy5cclxuICAgICAgICogTW92ZXMgc2xpZGVyIGluIGRyaWVjdGlvbiBwcmVjaXNlZCBpblxyXG4gICAgICAgKiBgZGF0YS1nbGlkZS1kaXJgIGF0dHJpYnV0ZS5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICBDb21wb25lbnRzLlJ1bi5tYWtlKENvbXBvbmVudHMuRGlyZWN0aW9uLnJlc29sdmUoZXZlbnQuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZ2xpZGUtZGlyJykpKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBkZWZpbmUoQ29udHJvbHMsICdpdGVtcycsIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEdldHMgY29sbGVjdGlvbiBvZiB0aGUgY29udHJvbHMgSFRNTCBlbGVtZW50cy5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7SFRNTEVsZW1lbnRbXX1cclxuICAgICAgICovXHJcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgIHJldHVybiBDb250cm9scy5fYztcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTd2FwIGFjdGl2ZSBjbGFzcyBvZiBjdXJyZW50IG5hdmlnYXRpb24gaXRlbTpcclxuICAgICAqIC0gYWZ0ZXIgbW91bnRpbmcgdG8gc2V0IGl0IHRvIGluaXRpYWwgaW5kZXhcclxuICAgICAqIC0gYWZ0ZXIgZWFjaCBtb3ZlIHRvIHRoZSBuZXcgaW5kZXhcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKFsnbW91bnQuYWZ0ZXInLCAnbW92ZS5hZnRlciddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIENvbnRyb2xzLnNldEFjdGl2ZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgYmluZGluZ3MgYW5kIEhUTUwgQ2xhc3NlczpcclxuICAgICAqIC0gb24gZGVzdHJveWluZywgdG8gYnJpbmcgbWFya3VwIHRvIGl0cyBpbml0aWFsIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbignZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgQ29udHJvbHMucmVtb3ZlQmluZGluZ3MoKTtcclxuICAgICAgQ29udHJvbHMucmVtb3ZlQWN0aXZlKCk7XHJcbiAgICAgIEJpbmRlci5kZXN0cm95KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gQ29udHJvbHM7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBLZXlib2FyZCAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbnN0YW5jZSBvZiB0aGUgYmluZGVyIGZvciBET00gRXZlbnRzLlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtFdmVudHNCaW5kZXJ9XHJcbiAgICAgKi9cclxuICAgIHZhciBCaW5kZXIgPSBuZXcgRXZlbnRzQmluZGVyKCk7XHJcblxyXG4gICAgdmFyIEtleWJvYXJkID0ge1xyXG4gICAgICAvKipcclxuICAgICAgICogQmluZHMga2V5Ym9hcmQgZXZlbnRzIG9uIGNvbXBvbmVudCBtb3VudC5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIG1vdW50OiBmdW5jdGlvbiBtb3VudCgpIHtcclxuICAgICAgICBpZiAoR2xpZGUuc2V0dGluZ3Mua2V5Ym9hcmQpIHtcclxuICAgICAgICAgIHRoaXMuYmluZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQWRkcyBrZXlib2FyZCBwcmVzcyBldmVudHMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBiaW5kOiBmdW5jdGlvbiBiaW5kKCkge1xyXG4gICAgICAgIEJpbmRlci5vbigna2V5dXAnLCBkb2N1bWVudCwgdGhpcy5wcmVzcyk7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFJlbW92ZXMga2V5Ym9hcmQgcHJlc3MgZXZlbnRzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgdW5iaW5kOiBmdW5jdGlvbiB1bmJpbmQoKSB7XHJcbiAgICAgICAgQmluZGVyLm9mZigna2V5dXAnLCBkb2N1bWVudCk7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEhhbmRsZXMga2V5Ym9hcmQncyBhcnJvd3MgcHJlc3MgYW5kIG1vdmluZyBnbGlkZSBmb3dhcmQgYW5kIGJhY2t3YXJkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2ZW50XHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBwcmVzczogZnVuY3Rpb24gcHJlc3MoZXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMzkpIHtcclxuICAgICAgICAgIENvbXBvbmVudHMuUnVuLm1ha2UoQ29tcG9uZW50cy5EaXJlY3Rpb24ucmVzb2x2ZSgnPicpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAzNykge1xyXG4gICAgICAgICAgQ29tcG9uZW50cy5SdW4ubWFrZShDb21wb25lbnRzLkRpcmVjdGlvbi5yZXNvbHZlKCc8JykpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBiaW5kaW5ncyBmcm9tIGtleWJvYXJkOlxyXG4gICAgICogLSBvbiBkZXN0cm95aW5nIHRvIHJlbW92ZSBhZGRlZCBldmVudHNcclxuICAgICAqIC0gb24gdXBkYXRpbmcgdG8gcmVtb3ZlIGV2ZW50cyBiZWZvcmUgcmVtb3VudGluZ1xyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oWydkZXN0cm95JywgJ3VwZGF0ZSddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIEtleWJvYXJkLnVuYmluZCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdW50IGNvbXBvbmVudFxyXG4gICAgICogLSBvbiB1cGRhdGluZyB0byByZWZsZWN0IHBvdGVudGlhbCBjaGFuZ2VzIGluIHNldHRpbmdzXHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbigndXBkYXRlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBLZXlib2FyZC5tb3VudCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXN0cm95IGJpbmRlcjpcclxuICAgICAqIC0gb24gZGVzdHJveWluZyB0byByZW1vdmUgbGlzdGVuZXJzXHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbignZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgQmluZGVyLmRlc3Ryb3koKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBLZXlib2FyZDtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIEF1dG9wbGF5IChHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKSB7XHJcbiAgICAvKipcclxuICAgICAqIEluc3RhbmNlIG9mIHRoZSBiaW5kZXIgZm9yIERPTSBFdmVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge0V2ZW50c0JpbmRlcn1cclxuICAgICAqL1xyXG4gICAgdmFyIEJpbmRlciA9IG5ldyBFdmVudHNCaW5kZXIoKTtcclxuXHJcbiAgICB2YXIgQXV0b3BsYXkgPSB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBJbml0aWFsaXplcyBhdXRvcGxheWluZyBhbmQgZXZlbnRzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgbW91bnQ6IGZ1bmN0aW9uIG1vdW50KCkge1xyXG4gICAgICAgIHRoaXMuc3RhcnQoKTtcclxuXHJcbiAgICAgICAgaWYgKEdsaWRlLnNldHRpbmdzLmhvdmVycGF1c2UpIHtcclxuICAgICAgICAgIHRoaXMuYmluZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogU3RhcnRzIGF1dG9wbGF5aW5nIGluIGNvbmZpZ3VyZWQgaW50ZXJ2YWwuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbnxOdW1iZXJ9IGZvcmNlIFJ1biBhdXRvcGxheWluZyB3aXRoIHBhc3NlZCBpbnRlcnZhbCByZWdhcmRsZXNzIG9mIGBhdXRvcGxheWAgc2V0dGluZ3NcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgICAgICBpZiAoR2xpZGUuc2V0dGluZ3MuYXV0b3BsYXkpIHtcclxuICAgICAgICAgIGlmIChpc1VuZGVmaW5lZCh0aGlzLl9pKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9pID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgIF90aGlzLnN0b3AoKTtcclxuXHJcbiAgICAgICAgICAgICAgQ29tcG9uZW50cy5SdW4ubWFrZSgnPicpO1xyXG5cclxuICAgICAgICAgICAgICBfdGhpcy5zdGFydCgpO1xyXG4gICAgICAgICAgICB9LCB0aGlzLnRpbWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogU3RvcHMgYXV0b3J1bm5pbmcgb2YgdGhlIGdsaWRlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHtcclxuICAgICAgICB0aGlzLl9pID0gY2xlYXJJbnRlcnZhbCh0aGlzLl9pKTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogU3RvcHMgYXV0b3BsYXlpbmcgd2hpbGUgbW91c2UgaXMgb3ZlciBnbGlkZSdzIGFyZWEuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBiaW5kOiBmdW5jdGlvbiBiaW5kKCkge1xyXG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xyXG5cclxuICAgICAgICBCaW5kZXIub24oJ21vdXNlb3ZlcicsIENvbXBvbmVudHMuSHRtbC5yb290LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBfdGhpczIuc3RvcCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBCaW5kZXIub24oJ21vdXNlb3V0JywgQ29tcG9uZW50cy5IdG1sLnJvb3QsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIF90aGlzMi5zdGFydCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBVbmJpbmQgbW91c2VvdmVyIGV2ZW50cy5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybnMge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICB1bmJpbmQ6IGZ1bmN0aW9uIHVuYmluZCgpIHtcclxuICAgICAgICBCaW5kZXIub2ZmKFsnbW91c2VvdmVyJywgJ21vdXNlb3V0J10sIENvbXBvbmVudHMuSHRtbC5yb290KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBkZWZpbmUoQXV0b3BsYXksICd0aW1lJywge1xyXG4gICAgICAvKipcclxuICAgICAgICogR2V0cyB0aW1lIHBlcmlvZCB2YWx1ZSBmb3IgdGhlIGF1dG9wbGF5IGludGVydmFsLiBQcmlvcml0aXplc1xyXG4gICAgICAgKiB0aW1lcyBpbiBgZGF0YS1nbGlkZS1hdXRvcGxheWAgYXR0cnVidXRlcyBvdmVyIG9wdGlvbnMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgICAgICovXHJcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgIHZhciBhdXRvcGxheSA9IENvbXBvbmVudHMuSHRtbC5zbGlkZXNbR2xpZGUuc21tXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZ2xpZGUtYXV0b3BsYXknKTtcclxuXHJcbiAgICAgICAgaWYgKGF1dG9wbGF5KSB7XHJcbiAgICAgICAgICByZXR1cm4gdG9JbnQoYXV0b3BsYXkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRvSW50KEdsaWRlLnNldHRpbmdzLmF1dG9wbGF5KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9wIGF1dG9wbGF5aW5nIGFuZCB1bmJpbmQgZXZlbnRzOlxyXG4gICAgICogLSBvbiBkZXN0cm95aW5nLCB0byBjbGVhciBkZWZpbmVkIGludGVydmFsXHJcbiAgICAgKiAtIG9uIHVwZGF0aW5nIHZpYSBBUEkgdG8gcmVzZXQgaW50ZXJ2YWwgdGhhdCBtYXkgY2hhbmdlZFxyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oWydkZXN0cm95JywgJ3VwZGF0ZSddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIEF1dG9wbGF5LnVuYmluZCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9wIGF1dG9wbGF5aW5nOlxyXG4gICAgICogLSBiZWZvcmUgZWFjaCBydW4sIHRvIHJlc3RhcnQgYXV0b3BsYXlpbmdcclxuICAgICAqIC0gb24gcGF1c2luZyB2aWEgQVBJXHJcbiAgICAgKiAtIG9uIGRlc3Ryb3lpbmcsIHRvIGNsZWFyIGRlZmluZWQgaW50ZXJ2YWxcclxuICAgICAqIC0gd2hpbGUgc3RhcnRpbmcgYSBzd2lwZVxyXG4gICAgICogLSBvbiB1cGRhdGluZyB2aWEgQVBJIHRvIHJlc2V0IGludGVydmFsIHRoYXQgbWF5IGNoYW5nZWRcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKFsncnVuLmJlZm9yZScsICdwYXVzZScsICdkZXN0cm95JywgJ3N3aXBlLnN0YXJ0JywgJ3VwZGF0ZSddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIEF1dG9wbGF5LnN0b3AoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RhcnQgYXV0b3BsYXlpbmc6XHJcbiAgICAgKiAtIGFmdGVyIGVhY2ggcnVuLCB0byByZXN0YXJ0IGF1dG9wbGF5aW5nXHJcbiAgICAgKiAtIG9uIHBsYXlpbmcgdmlhIEFQSVxyXG4gICAgICogLSB3aGlsZSBlbmRpbmcgYSBzd2lwZVxyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oWydydW4uYWZ0ZXInLCAncGxheScsICdzd2lwZS5lbmQnXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICBBdXRvcGxheS5zdGFydCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdW50IGF1dG9wbGF5aW5nOlxyXG4gICAgICogLSBvbiB1cGRhdGluZyB2aWEgQVBJIHRvIHJlc2V0IGludGVydmFsIHRoYXQgbWF5IGNoYW5nZWRcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKCd1cGRhdGUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIEF1dG9wbGF5Lm1vdW50KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3kgYSBiaW5kZXI6XHJcbiAgICAgKiAtIG9uIGRlc3Ryb3lpbmcgZ2xpZGUgaW5zdGFuY2UgdG8gY2xlYXJ1cCBsaXN0ZW5lcnNcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBCaW5kZXIuZGVzdHJveSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIEF1dG9wbGF5O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU29ydHMga2V5cyBvZiBicmVha3BvaW50IG9iamVjdCBzbyB0aGV5IHdpbGwgYmUgb3JkZXJlZCBmcm9tIGxvd2VyIHRvIGJpZ2dlci5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludHNcclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHNvcnRCcmVha3BvaW50cyhwb2ludHMpIHtcclxuICAgIGlmIChpc09iamVjdChwb2ludHMpKSB7XHJcbiAgICAgIHJldHVybiBzb3J0S2V5cyhwb2ludHMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgd2FybignQnJlYWtwb2ludHMgb3B0aW9uIG11c3QgYmUgYW4gb2JqZWN0Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHt9O1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gQnJlYWtwb2ludHMgKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcclxuICAgIC8qKlxyXG4gICAgICogSW5zdGFuY2Ugb2YgdGhlIGJpbmRlciBmb3IgRE9NIEV2ZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAdHlwZSB7RXZlbnRzQmluZGVyfVxyXG4gICAgICovXHJcbiAgICB2YXIgQmluZGVyID0gbmV3IEV2ZW50c0JpbmRlcigpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSG9sZHMgcmVmZXJlbmNlIHRvIHNldHRpbmdzLlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHZhciBzZXR0aW5ncyA9IEdsaWRlLnNldHRpbmdzO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSG9sZHMgcmVmZXJlbmNlIHRvIGJyZWFrcG9pbnRzIG9iamVjdCBpbiBzZXR0aW5ncy4gU29ydHMgYnJlYWtwb2ludHNcclxuICAgICAqIGZyb20gc21hbGxlciB0byBsYXJnZXIuIEl0IGlzIHJlcXVpcmVkIGluIG9yZGVyIHRvIHByb3BlclxyXG4gICAgICogbWF0Y2hpbmcgY3VycmVudGx5IGFjdGl2ZSBicmVha3BvaW50IHNldHRpbmdzLlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHZhciBwb2ludHMgPSBzb3J0QnJlYWtwb2ludHMoc2V0dGluZ3MuYnJlYWtwb2ludHMpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2FjaGUgaW5pdGlhbCBzZXR0aW5ncyBiZWZvcmUgb3ZlcndyaXR0aW5nLlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIHZhciBkZWZhdWx0cyA9IF9leHRlbmRzKHt9LCBzZXR0aW5ncyk7XHJcblxyXG4gICAgdmFyIEJyZWFrcG9pbnRzID0ge1xyXG4gICAgICAvKipcclxuICAgICAgICogTWF0Y2hlcyBzZXR0aW5ncyBmb3IgY3VycmVjdGx5IG1hdGNoaW5nIG1lZGlhIGJyZWFrcG9pbnQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludHNcclxuICAgICAgICogQHJldHVybnMge09iamVjdH1cclxuICAgICAgICovXHJcbiAgICAgIG1hdGNoOiBmdW5jdGlvbiBtYXRjaChwb2ludHMpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5tYXRjaE1lZGlhICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgZm9yICh2YXIgcG9pbnQgaW4gcG9pbnRzKSB7XHJcbiAgICAgICAgICAgIGlmIChwb2ludHMuaGFzT3duUHJvcGVydHkocG9pbnQpKSB7XHJcbiAgICAgICAgICAgICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKCcobWF4LXdpZHRoOiAnICsgcG9pbnQgKyAncHgpJykubWF0Y2hlcykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50c1twb2ludF07XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZGVmYXVsdHM7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPdmVyd3JpdGUgaW5zdGFuY2Ugc2V0dGluZ3Mgd2l0aCBjdXJyZW50bHkgbWF0Y2hpbmcgYnJlYWtwb2ludCBzZXR0aW5ncy5cclxuICAgICAqIFRoaXMgaGFwcGVucyByaWdodCBhZnRlciBjb21wb25lbnQgaW5pdGlhbGl6YXRpb24uXHJcbiAgICAgKi9cclxuICAgIF9leHRlbmRzKHNldHRpbmdzLCBCcmVha3BvaW50cy5tYXRjaChwb2ludHMpKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSBnbGlkZSB3aXRoIHNldHRpbmdzIG9mIG1hdGNoZWQgYnJla3BvaW50OlxyXG4gICAgICogLSB3aW5kb3cgcmVzaXplIHRvIHVwZGF0ZSBzbGlkZXJcclxuICAgICAqL1xyXG4gICAgQmluZGVyLm9uKCdyZXNpemUnLCB3aW5kb3csIHRocm90dGxlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgR2xpZGUuc2V0dGluZ3MgPSBtZXJnZU9wdGlvbnMoc2V0dGluZ3MsIEJyZWFrcG9pbnRzLm1hdGNoKHBvaW50cykpO1xyXG4gICAgfSwgR2xpZGUuc2V0dGluZ3MudGhyb3R0bGUpKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlc29ydCBhbmQgdXBkYXRlIGRlZmF1bHQgc2V0dGluZ3M6XHJcbiAgICAgKiAtIG9uIHJlaW5pdCB2aWEgQVBJLCBzbyBicmVha3BvaW50IG1hdGNoaW5nIHdpbGwgYmUgcGVyZm9ybWVkIHdpdGggb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oJ3VwZGF0ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgcG9pbnRzID0gc29ydEJyZWFrcG9pbnRzKHBvaW50cyk7XHJcblxyXG4gICAgICBkZWZhdWx0cyA9IF9leHRlbmRzKHt9LCBzZXR0aW5ncyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVuYmluZCByZXNpemUgbGlzdGVuZXI6XHJcbiAgICAgKiAtIG9uIGRlc3Ryb3lpbmcsIHRvIGJyaW5nIG1hcmt1cCB0byBpdHMgaW5pdGlhbCBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIEJpbmRlci5vZmYoJ3Jlc2l6ZScsIHdpbmRvdyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gQnJlYWtwb2ludHM7XHJcbiAgfVxyXG5cclxuICB2YXIgQ09NUE9ORU5UUyA9IHtcclxuICAgIC8vIFJlcXVpcmVkXHJcbiAgICBIdG1sOiBIdG1sLFxyXG4gICAgVHJhbnNsYXRlOiBUcmFuc2xhdGUsXHJcbiAgICBUcmFuc2l0aW9uOiBUcmFuc2l0aW9uLFxyXG4gICAgRGlyZWN0aW9uOiBEaXJlY3Rpb24sXHJcbiAgICBQZWVrOiBQZWVrLFxyXG4gICAgU2l6ZXM6IFNpemVzLFxyXG4gICAgR2FwczogR2FwcyxcclxuICAgIE1vdmU6IE1vdmUsXHJcbiAgICBDbG9uZXM6IENsb25lcyxcclxuICAgIFJlc2l6ZTogUmVzaXplLFxyXG4gICAgQnVpbGQ6IEJ1aWxkLFxyXG4gICAgUnVuOiBSdW4sXHJcblxyXG4gICAgLy8gT3B0aW9uYWxcclxuICAgIFN3aXBlOiBTd2lwZSxcclxuICAgIEltYWdlczogSW1hZ2VzLFxyXG4gICAgQW5jaG9yczogQW5jaG9ycyxcclxuICAgIENvbnRyb2xzOiBDb250cm9scyxcclxuICAgIEtleWJvYXJkOiBLZXlib2FyZCxcclxuICAgIEF1dG9wbGF5OiBBdXRvcGxheSxcclxuICAgIEJyZWFrcG9pbnRzOiBCcmVha3BvaW50c1xyXG4gIH07XHJcblxyXG4gIHZhciBHbGlkZSQxID0gZnVuY3Rpb24gKF9Db3JlKSB7XHJcbiAgICBpbmhlcml0cyhHbGlkZSQkMSwgX0NvcmUpO1xyXG5cclxuICAgIGZ1bmN0aW9uIEdsaWRlJCQxKCkge1xyXG4gICAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBHbGlkZSQkMSk7XHJcbiAgICAgIHJldHVybiBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChHbGlkZSQkMS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEdsaWRlJCQxKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQ2xhc3MoR2xpZGUkJDEsIFt7XHJcbiAgICAgIGtleTogJ21vdW50JyxcclxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG1vdW50KCkge1xyXG4gICAgICAgIHZhciBleHRlbnNpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGdldChHbGlkZSQkMS5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihHbGlkZSQkMS5wcm90b3R5cGUpLCAnbW91bnQnLCB0aGlzKS5jYWxsKHRoaXMsIF9leHRlbmRzKHt9LCBDT01QT05FTlRTLCBleHRlbnNpb25zKSk7XHJcbiAgICAgIH1cclxuICAgIH1dKTtcclxuICAgIHJldHVybiBHbGlkZSQkMTtcclxuICB9KEdsaWRlKTtcclxuXHJcbiAgcmV0dXJuIEdsaWRlJDE7XHJcblxyXG59KSkpO1xyXG52YXIgYnRuTW9kYWxPcGVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsLXNob3cnKSxcclxuICAgIGJ0bk1vZGFsQ2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtY2xvc2UnKSxcclxuICAgIG1vZGFsV2luZG93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsJyksXHJcbiAgICBtb2RhbElubmVyTGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtaW5uZXItbGF5ZXInKSxcclxuICAgIGh0bWxCbG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKTtcclxuXHJcbmZvcih2YXIgYiA9IDA7IGIgPCBidG5Nb2RhbE9wZW4ubGVuZ3RoOyBiICs9IDEpIHtcclxuICBidG5Nb2RhbE9wZW5bYl0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgIG1vZGFsV2luZG93LmNsYXNzTGlzdC5hZGQoJ21vZGFsLW9wZW4nKTtcclxuICAgIGh0bWxCbG9jay5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xyXG4gIH0pO1xyXG59XHJcblxyXG5tb2RhbElubmVyTGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICBtb2RhbFdpbmRvdy5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbC1vcGVuJyk7XHJcbiAgaHRtbEJsb2NrLnN0eWxlLm92ZXJmbG93ID0gJ3Zpc2libGUnO1xyXG59KTtcclxuXHJcbmJ0bk1vZGFsQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICBtb2RhbFdpbmRvdy5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbC1vcGVuJyk7XHJcbiAgaHRtbEJsb2NrLnN0eWxlLm92ZXJmbG93ID0gJ3Zpc2libGUnO1xyXG59KTsiXX0=
